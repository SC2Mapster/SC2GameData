<?xml version="1.0" encoding="us-ascii"?>
<Catalog>
    <CActorUnit default="1" id="FortressArchwayParent" parent="TownBaseStructure">
        <On Terms="Behavior.GateLowerBehavior.On" Send="Create ArchwayBaseDoorOpenSearch"/>
        <On Terms="Behavior.GateLowerBehavior.Off" Send="Create ArchwayBaseDoorCloseSearch"/>
        <Macros value="RemovePreTargetHaloMacro"/>
        <DeathArray index="Normal" ModelLink=""/>
        <DeathActorModel value="UnitDeathModelPersistent"/>
        <DeathActorModelLow value="UnitDeathModelPersistent"/>
        <StatusBarOn index="Life" value="1"/>
        <Model value="Invisible"/>
        <BarOffset value="-20"/>
    </CActorUnit>
    <CActorUnit default="1" id="BaseProtectionTowerParent" parent="TownBaseStructure">
        <Macros value="RemovePreTargetHaloMacro"/>
        <FogVisibility value="Dimmed"/>
        <On Terms="ActorCreation" Send="SetShowStatusBar"/>
        <!-- Cannons Firing FX -->
        <On Terms="Signal.*.FireCannon" Send="AnimPlay Attack Attack"/>
        <On Terms="Signal.*.FireCannon" Send="Create BaseProtectionTowerFiring"/>
        <Model value="BaseProtectionTower"/>
    </CActorUnit>
    <CActorUnit default="1" id="BaseProtectionCannonParent" parent="TownBaseStructure">
        <Macros value="RemovePreTargetHaloMacro"/>
        <FogVisibility value="Dimmed"/>
        <On Terms="ActorCreation" Send="SetShowStatusBar"/>
        <!-- Cannons Firing FX -->
        <On Terms="Signal.*.FireCannon" Send="TimerSet 0.000000,0.125000 CannonTimer"/>
        <On Terms="TimerExpired; TimerName CannonTimer" Send="AnimPlay Attack Attack"/>
        <On Terms="TimerExpired; TimerName CannonTimer" Send="Create BaseProtectionCannonFiring"/>
        <Model value="BaseProtectionCannon"/>
    </CActorUnit>
    <!--Add "<On Terms="ActorCreation" Send="StatusSet UsesAdditionalMacGuffin 1"/>" to heroes that use multiple beams when channeling MacGuffins.-->
    <CActorBeamSimple id="CaptureMacGuffinBeamAdditional">
        <Model value="CaptureMacGuffinBeamWintercrestAltar"/>
    </CActorBeamSimple>
    <CActorUnit id="SpiritHealer" parent="GenericUnitStandard" unitName="SpiritHealer">
        <MinimapIconScale value="0.000000"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <StatusBarFlags index="Magazine" value="0"/>
        <StatusBarFlags index="Custom" value="0"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 1"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 2"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 3"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 4"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 5"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 6"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 7"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 8"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 9"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 10"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 11"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 12"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 13"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 14"/>
        <On Terms="ActorCreation" Send="SetFilterPlayers 15"/>
    </CActorUnit>
    <CActorRegionCircle id="ArchwayBaseDoorOpenSearch">
        <Radius value="6.000000"/>
        <On Terms="ActorCreation" Send="QueryRegion ::Self ArchwayBaseDoorOpenSearchQuery AgainstCenter"/>
        <On Terms="ActorCreation" Send="Destroy"/>
    </CActorRegionCircle>
    <CActorQueryResponse id="ArchwayBaseDoorOpenSearchQuery">
        <Subject Filters="Doodad" Terms="ScopeContains _ArchwayDoor"/>
        <OnResponse Target="_ArchwayDoor" Send="Signal OpenDoor"/>
    </CActorQueryResponse>
    <CActorRegionCircle id="ArchwayBaseDoorCloseSearch">
        <Radius value="6.000000"/>
        <On Terms="ActorCreation" Send="QueryRegion ::Self ArchwayBaseDoorCloseSearchQuery AgainstCenter"/>
        <On Terms="ActorCreation" Send="Destroy"/>
    </CActorRegionCircle>
    <CActorQueryResponse id="ArchwayBaseDoorCloseSearchQuery">
        <Subject Filters="Doodad" Terms="ScopeContains _ArchwayDoor"/>
        <OnResponse Target="_ArchwayDoor" Send="Signal CloseDoor"/>
    </CActorQueryResponse>
    <CActorUnit id="BaseProtectionCannonExtraHigh" parent="BaseProtectionCannonParent" unitName="BaseProtectionCannonExtraHigh"/>
    <CActorUnit id="BaseProtectionCannonHigh" parent="BaseProtectionCannonParent" unitName="BaseProtectionCannonHigh"/>
    <CActorUnit id="BaseProtectionCannonLow" parent="BaseProtectionCannonParent" unitName="BaseProtectionCannonLow"/>
    <CActorUnit id="BaseProtectionCannonMid" parent="BaseProtectionCannonParent" unitName="BaseProtectionCannonMid"/>
    <CActorModel id="BaseProtectionTowerDamageImpactHeroCenter" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Effect.BaseProtectionTowerAttackDamageSet.Start; At Target; ValidateUnit TargetIsHeroNotSummoned" Send="Create"/>
        <HostSiteOps Ops="SOpAttachCenter" HoldRotation="1"/>
    </CActorModel>
    <CActorModel id="BaseProtectionTowerDamageImpactMinion" parent="StormModelAnimationStyleOneShotUnit">
        <Preload index="0" value="BaseProtectionTowerDamageImpact"/>
        <On Terms="Effect.BaseProtectionTowerAttackDamageSet.Start; At Target; ValidateUnit TargetIsNotHeroic" Send="Create"/>
        <HostSiteOps Ops="SOpAttachOrigin SOpRotationRandomDisc" HoldPosition="1" HoldRotation="1"/>
    </CActorModel>
    <CActorModel id="BaseProtectionTowerFiring" parent="StormModelAnimationStyleOneShotUnit">
        <HostSiteOps Ops="SOpAttachWeapon"/>
        <Inherits index="Visibility" value="1"/>
    </CActorModel>
    <CActorModel id="BaseProtectionCannonFiring" parent="StormModelAnimationStyleOneShotUnit">
        <HostSiteOps Ops="SOpAttachWeapon"/>
        <Inherits index="Visibility" value="1"/>
    </CActorModel>
    <CActorUnit id="BaseProtectionTowerGround" parent="BaseProtectionTowerParent" unitName="BaseProtectionTowerGround"/>
    <CActorUnit id="BaseProtectionTowerHigh" parent="BaseProtectionTowerParent" unitName="BaseProtectionTowerHigh"/>
    <CActorUnit id="BaseProtectionTowerMid" parent="BaseProtectionTowerParent" unitName="BaseProtectionTowerMid"/>
    <CActorTurret id="BaseProtectionTowerTurret">
        <On Terms="TurretEnable.BaseProtectionTowerTurret" Send="Create"/>
    </CActorTurret>
    <CActorUnitRing id="BaseProtectionTowerTargetingMarker" parent="Storm_HeroRing_Parent">
        <Filter index="All" value="1"/>
        <VisibleToAtCreation index="Target" value="1"/>
        <Inherits index="Visibility" value="0"/>
        <On Terms="Effect.BaseProtectionTowerMarkerCreatePersistent.Start; At Target" Send="Create"/>
        <On Terms="Effect.BaseProtectionTowerMarkerCreatePersistent.Stop" Send="Destroy"/>
        <Model value="TowerTargetingMarker"/>
        <ModelFlags index="UpdateVisibility" value="0"/>
    </CActorUnitRing>
    <!--                                                                                         -->
    <!-- Capture POI                                                                             -->
    <!--                                                                                         -->
    <CActorBeamSimple id="CaptureMacGuffinBeam">
        <Model value="CaptureMacGuffinBeamWintercrestAltar"/>
    </CActorBeamSimple>
    <CActorModel id="CorePermanentInvulnerabilityOrbitingModel">
        <On Terms="ActorOrphan" Send="Signal Deactivate"/>
    </CActorModel>
    <CActorModel id="CorePermanentInvulnerabilityModelAttachmentBase">
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize CorePermanentInvulnerabilityModelAttachmentRaven"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize CorePermanentInvulnerabilityModelAttachmentNecro"/>
        <On Terms="Signal.*.Deactivate; PlayerId 11 11" Send="ModelSwap CorePermanentInvulnerabilityDeathModelRaven"/>
        <On Terms="Signal.*.Deactivate; PlayerId 12 12" Send="ModelSwap CorePermanentInvulnerabilityDeathModelNecro"/>
        <On Terms="Signal.*.Deactivate" Send="$Death 0 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="AnimDone.*.Complete; AnimName Death" Send="Destroy"/>
    </CActorModel>
    <CActorModel id="CorePermanentInvulnerabilityBirthModel">
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize CorePermanentInvulnerabilityBirthModelRaven"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize CorePermanentInvulnerabilityBirthModelNecro"/>
    </CActorModel>
    <CActorModel id="CorePermanentInvulnerabilityModelAttachment1" parent="CorePermanentInvulnerabilityModelAttachmentBase">
        <HostSiteOps Ops="SOpAttachWeapon00"/>
        <On Terms="ActorCreation" Send="Create CorePermanentInvulnerabilityBirthModel"/>
    </CActorModel>
    <CActorModel id="CorePermanentInvulnerabilityModelAttachment2" parent="CorePermanentInvulnerabilityModelAttachmentBase">
        <HostSiteOps Ops="SOpAttachWeapon01"/>
        <On Terms="ActorCreation" Send="Create CorePermanentInvulnerabilityBirthModel"/>
    </CActorModel>
    <CActorModel id="CorePermanentInvulnerabilityModelAttachment3" parent="CorePermanentInvulnerabilityModelAttachmentBase">
        <HostSiteOps Ops="SOpAttachWeapon02"/>
        <On Terms="ActorCreation" Send="Create CorePermanentInvulnerabilityBirthModel"/>
    </CActorModel>
    <CActorModel id="CorePermanentInvulnerabilityModelAttachment4" parent="CorePermanentInvulnerabilityModelAttachmentBase">
        <HostSiteOps Ops="SOpAttachWeapon03"/>
        <On Terms="ActorCreation" Send="Create CorePermanentInvulnerabilityBirthModel"/>
    </CActorModel>
    <CActorSound id="Event_Towers_Tribute_Necro_Tower_Success" parent="SoundOneShot">
        <Inherits index="Visibility" value="0"/>
        <FogVisibility value="Visible"/>
    </CActorSound>
    <CActorSound id="Event_Towers_Tribute_RavenLord_Tower_Success" parent="SoundOneShot">
        <Inherits index="Visibility" value="0"/>
        <FogVisibility value="Visible"/>
    </CActorSound>
    <CActorSound id="MapEventNecromancerCannonballImpactDistantSound" parent="SoundOneShot">
        <FogVisibility value="Visible"/>
        <On Terms="Effect.MapEventNecromancerCannonImpactSet.Start; At Target" Send="Create"/>
        <Host Subject="_Unit"/>
        <Sound value="Event_Necro_Cannon_Explo_Distant"/>
        <Inherits index="Visibility" value="0"/>
    </CActorSound>
    <CActorSound id="MapEventRavenLordCannonballImpactDistantSound" parent="SoundOneShot">
        <FogVisibility value="Visible"/>
        <On Terms="Effect.MapEventRavenLordCannonImpactSet.Start; At Target" Send="Create"/>
        <Host Subject="_Unit"/>
        <Sound value="Event_Raven_Cannon_Explo_Distant"/>
        <Inherits index="Visibility" value="0"/>
    </CActorSound>
    <CActorModel id="MercHorsemanAttackCleaveDamageImpact" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Effect.MercHorsemanDefenderWeaponDamage.Start; At Target" Send="Create"/>
        <On Terms="Effect.MercHorsemanLanerWeaponDamage.Start; At Target" Send="Create"/>
        <HostSiteOps Ops="SOpAttachCenter"/>
    </CActorModel>
    <CActorSound id="MercHorsemanBirthSound" parent="SoundOneShot">
        <Sound value="Merc_Horsemen_Birth_Launch"/>
        <SoundFlags index="UpdateVisibility" value="0"/>
        <Inherits index="Visibility" value="0"/>
        <FogVisibility value="Visible"/>
    </CActorSound>
    <CActorMissile id="MercHorsemanReturningHeadMissile" parent="GenericAttackMissile" unitName="MercHorsemanReturningHeadMissile">
        <On Terms="ActorCreation" Send="Create MercHorsemanFlyingHeadFireballMissileSound"/>
        <On Terms="ActorDestruction" Target="MercHorsemanFlyingHeadFireballMissileSound" Send="Destroy"/>
        <On Terms="UnitBirth" Send="$Stand,Alternate PlayForever"/>
        <On Terms="Effect.MercHorsemanFlyingHeadActiveRemoveBehavior.Start" Send="SetVisibility"/>
        <Remove Terms="UnitBirth" Send="AnimBracketStart Lifetime Birth Stand"/>
    </CActorMissile>
    <CActorMissile id="MercHorsemanInitialHeadMissile" parent="GenericAttackMissile" unitName="MercHorsemanFlyingHead">
        <On Terms="ActorCreation" Send="Create MercHorsemanFlyingHeadFireballMissileSound"/>
        <On Terms="ActorDestruction" Target="MercHorsemanFlyingHeadFireballMissileSound" Send="Destroy"/>
        <On Terms="Effect.MercHorsemanFlyingHeadAttackLaunchSet.Start" Send="$Spell,A 0 0.000000"/>
    </CActorMissile>
    <CActorUnit id="FortressArchwayVerticalRight" parent="FortressArchwayParent" unitName="FortressArchwayVerticalRight">
        <Model value="FortressArchwayStraightVerticalRight"/>
        <ModelFlags index="IgnoreWalkables" value="1"/>
    </CActorUnit>
    <CActorUnit id="FortressArchwayVerticalLeft" parent="FortressArchwayParent" unitName="FortressArchwayVerticalLeft">
        <Model value="FortressArchwayStraightVerticalLeft"/>
        <ModelFlags index="IgnoreWalkables" value="1"/>
    </CActorUnit>
    <CActorUnit id="FortressArchwayCurvedUL" parent="FortressArchwayParent" unitName="FortressArchwayCurvedUL">
        <Model value="FortressArchwayStraightCurvedUpLeft"/>
        <ModelFlags index="IgnoreWalkables" value="1"/>
    </CActorUnit>
    <CActorUnit id="FortressArchwayCurvedDL" parent="FortressArchwayParent" unitName="FortressArchwayCurvedDL">
        <Model value="FortressArchwayStraightCurvedDownLeft"/>
        <ModelFlags index="IgnoreWalkables" value="1"/>
    </CActorUnit>
    <CActorUnit id="FortressArchwayCurvedUR" parent="FortressArchwayParent" unitName="FortressArchwayCurvedUR">
        <Model value="FortressArchwayStraightCurvedUpRight"/>
        <ModelFlags index="IgnoreWalkables" value="1"/>
    </CActorUnit>
    <CActorUnit id="FortressArchwayCurvedDR" parent="FortressArchwayParent" unitName="FortressArchwayCurvedDR">
        <Model value="FortressArchwayStraightCurvedDownRight"/>
        <ModelFlags index="IgnoreWalkables" value="1"/>
    </CActorUnit>
    <!-- Core                                                                                    -->
    <CActorUnit id="KingsCore">
        <On Terms="ActorCreation" Send="SetShowStatusBar"/>
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize RavenCore"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize NecroCoreBirthModel"/>
        <On Terms="AnimDone; AnimName CoreStart; PlayerId 12 12" Send="ModelSwap NecroCore"/>
        <On Terms="AnimDone; AnimName CoreStart; PlayerId 12 12" Send="AnimSetTime ::Baseline"/>
        <On Terms="AnimDone; AnimName CoreStart" Send="SetShowStatusBar 1"/>
        <On Terms="Effect.MapEventRavenLordCannonLaunchMissile.Start" Send="AnimPlay Cannon Attack,Superior"/>
        <On Terms="Effect.MapEventNecromancerCannonLaunchMissile.Start" Send="AnimPlay Cannon Attack,Superior"/>
        <On Terms="UnitDeathCustomize; PlayerId 12 12" Send="DeathCustomize Variation0"/>
        <DeathCustoms ModelLink="NecroCoreDeathModel" SoundLink="Doodad_Necro_Core_Death" Name="Variation0"/>
        <Model value="NecroCore"/>
        <DeathArray index="Normal" SoundLink="Doodad_RavenLord_Core_Death"/>
    </CActorUnit>
    <CActorUnit id="LandGrabCaptureBeacon" parent="GenericUnitStandard" unitName="LandGrabCaptureBeacon">
        <On Terms="Signal.*.OwnerOrder" Send="AnimBracketStart BSD Work,Start Work,Stand Work,End"/>
        <On Terms="Signal.*.OwnerChaos" Send="AnimBracketStart BSD Work,Start Work,Stand Work,End"/>
        <On Terms="Signal.*.OwnerNeutral" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.Show" Send="SetShowStatusBar 1"/>
        <On Terms="Signal.*.Hide" Send="SetShowStatusBar"/>
        <BarOffset value="0"/>
        <CustomUnitStatusFrame value="UnitStatus/CaptureBeaconUnitStatusFrame"/>
        <UnitFlags index="SuppressDefaultStatusBar" value="1"/>
    </CActorUnit>
    <CActorSound id="MapEventNecromancerCannonballIncomingSound" parent="SoundOneShot">
        <On Terms="Behavior.MapEventNecromancerCannonballIncomingMonitor.Off" Send="Create"/>
        <Sound value="Event_Necro_CannonBall_Incoming"/>
        <FogVisibility value="Visible"/>
        <Host Subject="_Unit"/>
    </CActorSound>
    <CActorSound id="MapEventRavenLordCannonballIncomingSound" parent="SoundOneShot">
        <On Terms="Behavior.MapEventRavenLordCannonballIncomingMonitor.Off" Send="Create"/>
        <Sound value="Event_Raven_CannonBall_Incoming"/>
        <FogVisibility value="Visible"/>
        <Host Subject="_Unit"/>
    </CActorSound>
    <CActorUnit id="MercWinterCrestHorsemanEntrance" parent="StormMinionBase" unitName="MercWinterCrestHorsemanEntrance">
        <On Terms="ActorCreation" Send="SetMinimapVisibility"/>
        <On Terms="ActorCreation" Send="SetShowStatusBar"/>
        <On Terms="Signal.*.Spawned" Send="Create WintercrestBossJackOLantern1"/>
        <On Terms="Signal.*.Spawned" Send="Create WintercrestBossJackOLantern2"/>
        <On Terms="Signal.*.Spawned" Send="Create WintercrestBossJackOLantern3"/>
        <On Terms="Signal.*.Spawned" Send="Create WintercrestBossJackOLantern4"/>
        <On Terms="Signal.*.ReadyToFire" Target="WintercrestBossJackOLantern1" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.ReadyToFire" Target="WintercrestBossJackOLantern2" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.ReadyToFire" Target="WintercrestBossJackOLantern3" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.ReadyToFire" Target="WintercrestBossJackOLantern4" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.ReadyToFire" Send="AnimBracketStart Ready Stand,Alternate,Start Stand,Alternate"/>
        <On Terms="Signal.*.StartFiring" Send="AnimBracketStop Ready"/>
        <On Terms="Signal.*.StartFiring" Send="AnimBracketStart Firing Stand,Work,Start Stand,Work Stand,Work,End"/>
        <On Terms="Signal.*.EndFiring" Send="AnimBracketStop Firing"/>
    </CActorUnit>
    <CActorModel id="MoonwellDeath">
        <ModelAspectSets index="0" removed="1"/>
        <Aliases value="_ToDClearable"/>
    </CActorModel>
    <!-- Avatar Units                                                                            -->
    <CActorUnit id="NecromancerAvatarUnit" parent="StormUnitBase" unitName="NecromancerAvatarUnit">
        <On Terms="ActorCreation" Send="SetMinimapVisibility"/>
        <On Terms="ActorCreation" Send="StatusSet LoopSound 0"/>
        <On Terms="ActorCreation" Send="StatusSet Waiting 0"/>
        <On Terms="Signal.*.Stage1" Send="Create AvatarStage1Buff"/>
        <On Terms="Signal.*.Stage1" Send="Create AvatarStage1GroundBuff"/>
        <On Terms="Signal.*.Stage2" Target="AvatarStage1Buff" Send="Destroy"/>
        <On Terms="Signal.*.Stage2" Send="Create AvatarStage2Buff"/>
        <On Terms="Signal.*.Stage2" Send="ModelMaterialApply GlazeFireTangentSpace"/>
        <DeathArray index="Normal" ModelLink="NecromancerAvatarUnitDeath"/>
        <BarOffset value="0"/>
        <FogVisibility value="Dimmed"/>
    </CActorUnit>
    <CActorUnit id="RavenLordAvatarUnit" parent="StormUnitBase" unitName="RavenLordAvatarUnit">
        <On Terms="ActorCreation" Send="SetMinimapVisibility"/>
        <On Terms="ActorCreation" Send="StatusSet LoopSound 0"/>
        <On Terms="ActorCreation" Send="StatusSet Waiting 0"/>
        <On Terms="Signal.*.Stage1" Send="Create AvatarStage1Buff"/>
        <On Terms="Signal.*.Stage1" Send="Create AvatarStage1GroundBuff"/>
        <On Terms="Signal.*.Stage2" Target="AvatarStage1Buff" Send="Destroy"/>
        <On Terms="Signal.*.Stage2" Send="Create AvatarStage2Buff"/>
        <On Terms="Signal.*.Stage2" Send="ModelMaterialApply GlazeFireTangentSpace"/>
        <DeathArray index="Normal" ModelLink="RavenLordAvatarUnitDeath"/>
        <BarOffset value="0"/>
        <FogVisibility value="Dimmed"/>
    </CActorUnit>
    <CActorModel id="AvatarStage1Buff" parent="StormModelAddition">
        <Inherits index="BaseModelScale" value="0"/>
        <Inherits index="Scale" value="0"/>
        <FogVisibility value="Dimmed"/>
        <HostSiteOps Ops="SOpAttachCenter SOpMoveDownBy2"/>
    </CActorModel>
    <CActorModel id="AvatarStage1GroundBuff" parent="StormModelAddition">
        <Inherits index="BaseModelScale" value="0"/>
        <Inherits index="Scale" value="0"/>
        <FogVisibility value="Dimmed"/>
        <HostSiteOps Ops="SOpAttachOrigin"/>
    </CActorModel>
    <CActorModel id="AvatarStage2Buff" parent="StormModelAddition">
        <Inherits index="BaseModelScale" value="0"/>
        <Inherits index="Scale" value="0"/>
        <FogVisibility value="Dimmed"/>
        <HostSiteOps Ops="SOpAttachOrigin"/>
    </CActorModel>
    <!--                                                                                         -->
    <!-- Headless Horseman (L3 map boss)                                                         -->
    <!--                                                                                         -->
    <CActorUnit id="MercHorsemanDefender" parent="StormCreepStandard" unitName="MercHorsemanDefender">
        <On Terms="ActorCreation" Send="SetShowStatusBar"/>
        <On Terms="ActorCreation" Send="Create MercHorsemanBirthSound"/>
        <On Terms="ActorCreation" Send="$Birth 0 0.000000 -1.000000 1.000000 AsTimeScale"/>
        <On Terms="AnimDone; AnimName Birth" Send="ModelSwap MercHorseman"/>
        <On Terms="AnimDone; AnimName Birth" Send="SetShowStatusBar 1"/>
        <On Terms="AnimDone; AnimName Birth" Send="AnimBaselineStart"/>
        <On Terms="AnimDone; AnimName Birth" Send="AnimClear Birth"/>
        <On Terms="WeaponStart.*.AttackStart" Send="StatusIncrement WeaponNext"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 3" Send="StatusSet WeaponNext 0"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 0" Send="AnimClear Attack"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 0" Send="AnimPlay Attack Attack,00"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 1" Send="AnimClear Attack"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 1" Send="AnimPlay Attack Attack,01"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 2" Send="AnimClear Attack"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 2" Send="AnimPlay Attack Attack,02"/>
        <On Terms="UnitMovementUpdate.*.Walk" Send="AnimClear Attack"/>
        <On Terms="ModelEvent; ModelEventName AnimClear" Send="AnimClear Attack"/>
        <On Terms="Effect.WallCrushEffectCreatePersistent.Start" Send="$Spell,A,Start PlayForever -1.000000 -1.000000 1.000000 AsDuration"/>
        <On Terms="Effect.WallCrushEffectSearch.Start" Send="AnimClear Spell"/>
        <On Terms="Effect.WallCrushEffectSearch.Start" Send="$Spell,A,End"/>
        <On Terms="Behavior.MercCreepPassive.Off" Send="Create Merc_GraveGolem_Vox_Aggro"/>
        <On Terms="Effect.MercHorsemanFlyingHeadInitialLaunchMissile.Start" Send="AnimPlay Cover Cover PlayForever"/>
        <On Terms="Effect.MercHorsemanFlyingHeadActiveRemoveBehavior.Start" Send="AnimClear Cover 0.000000"/>
        <On Terms="Effect.MercHorsemanFlyingHeadActiveRemoveBehaviorCaster.Start" Send="AnimClear Cover 0.000000"/>
        <Model value="MercHeadlessHorsemanBirthModel"/>
        <ModelFlags index="OutlineOccluder" value="1"/>
        <BuildModel value="MercHorseman"/>
        <DeathArray index="Normal" ModelLink="MercHorsemanDeath" SoundLink="Merc_Horsemen_Vox_Death" VoiceLink=""/>
        <ImpactSound value="UnitMercBoss_Impact"/>
        <PlacementModel value="MercHorseman"/>
        <CustomUnitStatusFrame value="UnitStatus/SuperCreepNeutralUnitStatusFrameTemplate"/>
        <MinimapIconType value="Hidden"/>
    </CActorUnit>
    <CActorUnit id="MercHorsemanLaner" parent="StormCreepStandard" unitName="MercHorsemanLaner">
        <On Terms="WeaponStart.*.AttackStart" Send="StatusIncrement WeaponNext"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 3" Send="StatusSet WeaponNext 0"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 0" Send="AnimClear Attack"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 0" Send="AnimPlay Attack Attack,00"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 1" Send="AnimClear Attack"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 1" Send="AnimPlay Attack Attack,01"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 2" Send="AnimClear Attack"/>
        <On Terms="WeaponStart.*.AttackStart; IsStatus WeaponNext 2" Send="AnimPlay Attack Attack,02"/>
        <On Terms="UnitMovementUpdate.*.Walk" Send="AnimClear Attack"/>
        <On Terms="ModelEvent; ModelEventName AnimClear" Send="AnimClear Attack"/>
        <On Terms="ActorCreation" Send="$Birth 0 0.000000 -1.000000 1.000000 AsTimeScale"/>
        <On Terms="Effect.WallCrushEffectCreatePersistent.Start" Send="$Spell,A,Start PlayForever -1.000000 -1.000000 1.000000 AsDuration"/>
        <On Terms="Effect.WallCrushEffectSearch.Start" Send="AnimClear Spell"/>
        <On Terms="Effect.WallCrushEffectSearch.Start" Send="$Spell,A,End"/>
        <On Terms="Effect.MercHorsemanFlyingHeadRepeatingCreatePersistent.Start" Send="AnimPlay Cover Cover PlayForever"/>
        <On Terms="Effect.MercHorsemanFlyingHeadActiveRemoveBehavior.Start" Send="AnimClear Cover"/>
        <Model value="MercHorseman"/>
        <ModelFlags index="OutlineOccluder" value="1"/>
        <BuildModel value="MercHorseman"/>
        <DeathArray index="Normal" ModelLink="MercHorsemanDeath" SoundLink="Merc_Horsemen_Vox_Death" VoiceLink=""/>
        <ImpactSound value="UnitMercBoss_Impact"/>
        <PlacementModel value="MercHorseman"/>
        <CustomUnitStatusFrame value="UnitStatus/SuperCreepUnitStatusFrameTemplate"/>
        <GroupIcon>
            <Image value="Assets\Textures\ui_targetportrait_bbay_mercs_gravegolem_base_blue.dds"/>
        </GroupIcon>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_minesgolem.dds"/>
        <MinimapIconIsTeamColored value="1"/>
        <MinimapIconScale value="0.900000"/>
        <MinimapRenderPriority value="Merc"/>
        <MinimapUseSelectionColor value="0"/>
        <MinimapIconType value="Hidden"/>
        <UnitIcon value="Assets\Textures\storm_temp_war3_btnogrelord.dds"/>
        <Wireframe>
            <Image value="Assets\Textures\ui_targetportrait_bbay_mercs_gravegolem_base_red.dds"/>
        </Wireframe>
    </CActorUnit>
    <CActorSound id="MercHorsemanAttackImpactSound" parent="SoundOneShot">
        <Sound value="Merc_Horsemen_Attack_Melee_Impact"/>
    </CActorSound>
    <CActorModel id="MercHorsemanAttackCleaveEffect" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Effect.MercHorsemanLanerAttackSearchAreaRound.Start; At Caster" Send="Create"/>
        <On Terms="Effect.MercHorsemanDefenderAttackSearchAreaRound.Start; At Caster" Send="Create"/>
        <On Terms="ActorCreation" Send="Create MercHorsemanAttackImpactSound"/>
        <HostSiteOps Ops="SOpForwardCasterPoint SOpMoveForwardBy1 SOpMoveForwardBy1"/>
    </CActorModel>
    <CActorAction id="MercHorsemanReturningHeadMissileAttack" parent="GenericAttackStorm" effectImpact="MercHorsemanFlyingHeadActiveRemoveBehavior" effectLaunch="MercHorsemanFlyingHeadLaunchHeadBackToHorseman">
        <Missile value="MercHorsemanReturningHeadMissile"/>
        <ImpactMap index="None" Sound=""/>
        <ImpactSound value=""/>
        <ImpactSiteOps Ops="SOpAttachHardPoint"/>
        <ImpactModel value=""/>
        <ShieldFlashType value="None"/>
    </CActorAction>
    <CActorMissile id="MercHorsemanFlyingHeadFireballMissile" parent="StormMissileWithDeathEarly" unitName="MercHorsemanFlyingHeadFireballMissile">
        <On Terms="ActorCreation" Send="Create MercHorsemanFlyingHeadFireballMissileSound"/>
        <On Terms="ActorDestruction" Target="MercHorsemanFlyingHeadFireballMissileSound" Send="Destroy"/>
    </CActorMissile>
    <CActorModel id="MercHorsemanFlyingHeadExplosionAndBurn" parent="StormModelAnimationStyleContinuous">
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderBurnCreatePersistent.Start" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderBurnCreatePersistent.Stop" Send="Destroy"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerBurnCreatePersistent.Start" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerBurnCreatePersistent.Stop" Send="Destroy"/>
        <On Terms="ActorCreation" Send="Create MercHorsemanFlyingHeadFireballImpactSound"/>
        <HostSiteOps Ops="SOpShadow"/>
    </CActorModel>
    <CActorAction id="MercHorsemanFlyingHeadFireballAttack" parent="GenericAttackStorm" effectImpact="MercHorsemanFlyingHeadAttackImpactSet" effectLaunch="MercHorsemanFlyingHeadLaunchMissile">
        <LaunchAttachQuery Methods="AMFilterWeapon01"/>
        <LaunchAssets Sound="Merc_Horsemen_Attack_Ranged_Launch"/>
        <ImpactPointSiteOps Ops="SOpTargetPointStationary SOpShadow"/>
        <ShieldFlashType value="None"/>
        <Missile value="MercHorsemanFlyingHeadFireballMissile"/>
    </CActorAction>
    <CActorModel id="MercHorsemanFlyingHeadDamageImpact" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderPeriodicDamage.Start; At Target" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderInitialDamage.Start; At Target" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerPeriodicDamage.Start; At Target" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerInitialDamage.Start; At Target" Send="Create"/>
        <On Terms="ActorCreation" Send="TimerSet 0.300000 CutAnim"/>
        <On Terms="TimerExpired; TimerName CutAnim" Send="Destroy"/>
        <HostSiteOps Ops="SOpAttachCenter"/>
    </CActorModel>
    <CActorModel id="MercHorsemanFlyingHeadFireballWarning" parent="StormModelAnimationStyleContinuous">
        <Inherits index="TeamColor" value="1"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerBurnCreatePersistent.Start; At Effect" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderBurnCreatePersistent.Start; At Effect" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerBurnCreatePersistent.Stop" Send="AnimBracketStop BSD"/>
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderBurnCreatePersistent.Stop" Send="AnimBracketStop BSD"/>
    </CActorModel>
    <CActorSound id="MercHorsemanFlyingHeadFireballMissileSound" parent="SoundContinuous">
        <Sound value="Merc_Horsemen_Attack_Ranged_Missile"/>
    </CActorSound>
    <CActorSound id="MercHorsemanFlyingHeadFireballImpactSound" parent="SoundOneShot">
        <Sound value="Merc_Horsemen_Attack_Ranged_Impact"/>
    </CActorSound>
    <CActorSound id="MercHorsemanFlyingHeadFireballBurningSound" parent="SoundContinuous">
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderBurnCreatePersistent.Start" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadDefenderBurnCreatePersistent.Stop" Send="Destroy"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerBurnCreatePersistent.Start" Send="Create"/>
        <On Terms="Effect.MercHorsemanFlyingHeadLanerBurnCreatePersistent.Stop" Send="Destroy"/>
        <Sound value="Merc_Horsemen_Attack_Ranged_Ground_Loop"/>
    </CActorSound>
    <CActorSound id="ScoringAltarActivationSound" parent="SoundOneShot">
        <FogVisibility value="Visible"/>
        <SoundFlags index="UpdateVisibility" value="0"/>
        <Inherits index="Visibility" value="0"/>
        <Sound value="Event_Towers_ScoringAltar_Tribute_Spawn"/>
    </CActorSound>
    <CActorSound id="CaptureMacGuffinEndSound">
        <Sound value="Event_Towers_ScoringAltar_Channel_Tribute_End"/>
    </CActorSound>
    <CActorSound id="CaptureMacGuffinLoopSound">
        <Sound value="Event_Towers_ScoringAltar_Channel_Tribute_Loop"/>
        <Layers Sound="Doodad_ScoringAlter_Build_Pt2">
            <Chance value="100"/>
            <Pitch value="0.000000,0.000000"/>
            <PlayDelay value="0,0"/>
            <Volume value="0.000000,0.000000"/>
        </Layers>
    </CActorSound>
    <CActorSound id="CaptureMacGuffinStartSound">
        <Sound value="Event_Towers_ScoringAltar_Channel_Tribute_Start"/>
    </CActorSound>
    <CActorDoodad id="StormDoodadWinterCrestBannerSmallRaven">
        <Model value="StormDoodadWinterCrestCaptureBannerSmallRaven"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="StormDoodadWinterCrestBannerSmallNecro">
        <Model value="StormDoodadWinterCrestCaptureBannerSmallNecro"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="StormDoodadWinterCrestCaptureBannerSmall">
        <Aliases value="_CaptureBanner"/>
        <Model value="StormDoodadWinterCrestCaptureBannerSmallRaven"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize StormDoodadWinterCrestCaptureBannerSmallRaven"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize StormDoodadWinterCrestCaptureBannerSmallNecro"/>
        <On Terms="Signal.*.Chaos" Send="AnimPlay OrderDeath Death PlayForever,NonLooping"/>
        <On Terms="Signal.*.Chaos" Send="TimerSet 1.500000 ChaosTimer"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="AnimClear OrderDeath"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="ModelSwap StormDoodadWinterCrestCaptureBannerSmallNecro"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="SetPlayerId 12"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="$Birth"/>
        <On Terms="Signal.*.Order" Send="AnimPlay ChaosDeath Death PlayForever,NonLooping"/>
        <On Terms="Signal.*.Order" Send="TimerSet 1.500000 OrderTimer"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="AnimClear ChaosDeath"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="ModelSwap StormDoodadWinterCrestCaptureBannerSmallRaven"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="SetPlayerId 11"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="$Birth"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="StormDoodadWinterCrestCaptureBannerLarge">
        <Aliases value="_CaptureBanner"/>
        <Model value="StormDoodadWinterCrestCaptureBannerLargeRaven"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize StormDoodadWinterCrestCaptureBannerLargeRaven"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize StormDoodadWinterCrestCaptureBannerLargeNecro"/>
        <On Terms="Signal.*.Chaos" Send="AnimPlay OrderDeath Death PlayForever,NonLooping"/>
        <On Terms="Signal.*.Chaos" Send="TimerSet 1.500000 ChaosTimer"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="AnimClear OrderDeath"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="ModelSwap StormDoodadWinterCrestCaptureBannerLargeNecro"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="SetPlayerId 12"/>
        <On Terms="TimerExpired; TimerName ChaosTimer" Send="$Birth"/>
        <On Terms="Signal.*.Order" Send="AnimPlay ChaosDeath Death PlayForever,NonLooping"/>
        <On Terms="Signal.*.Order" Send="TimerSet 1.500000 OrderTimer"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="AnimClear ChaosDeath"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="ModelSwap StormDoodadWinterCrestCaptureBannerLargeRaven"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="SetPlayerId 11"/>
        <On Terms="TimerExpired; TimerName OrderTimer" Send="$Birth"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="StormDoodadWintercrestCorePlatform">
        <On Terms="ActorCreation" Send="Create StartingBaseVortex"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <TexSets value="StormKingsCrestWinterRavenCourt"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="StormDoodadWinterCrestFortressTower">
        <Model value="Storm_Building_WinterCrest_FortressTower"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_AmbientExplosions">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_EditorHelper"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Anvil"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Archway_Base">
        <Aliases value="_ArchwayDoor"/>
        <Aliases value="_CreepEngulfable"/>
        <Model value="Storm_Doodad_WinterCrest_Archway_Base_Birth"/>
        <On Terms="Signal.*.OpenSesame" Send="$Birth"/>
        <On Terms="AnimDone; AnimName Birth" Send="ModelSwap Storm_Doodad_WinterCrest_Archway_Base"/>
        <On Terms="Signal.*.OpenDoor" Send="AnimBracketStart WorkSpell Stand,Work,Start Stand,Work Stand,Work,End"/>
        <On Terms="Signal.*.CloseDoor" Send="AnimBracketStop WorkSpell"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <FogVisibility value="Dimmed"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <Macros value="ModelSwapRestartGlobalLoopsMacro"/>
        <Flags index="SuppressSaveLoad" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_ArmsGrabbing">
        <Aliases value="_EditorHelper"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Barn">
        <Aliases value="_TownIndicator"/>
        <On Terms="SetPlayerId" Send="AnimPlay Morph Morph"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Barracks">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_TownIndicator"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <On Terms="SetPlayerId" Send="AnimPlay Morph Morph"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_BlackCastleBuilding"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Blacksmith">
        <On Terms="SetPlayerId" Send="AnimPlay Morph Morph"/>
        <Aliases value="_TownIndicator"/>
        <EditorCategories value="DoodadType:Environment"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Bush">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Civilians"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Civilians_Spectral">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Coffin">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_CraterSplat">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Crops">
        <EditorCategories value="DoodadType:Environment"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Curb_Slabs">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Curb_Slabs_Snow">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_DMZ_RangeIndicator">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Fireflies">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_FortressWall"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Fountain_Necro"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Fountain_Raven"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Ghost">
        <Aliases value="_EditorHelper"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Ghost_Knight">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_GroundDecals">
        <TexSets value="StormKingsCrestWinterRavenCourt"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_GroundFog">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_HangingLantern">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_TownIndicator"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_HauntedTree">
        <Aliases value="_TownIndicator"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_HayBundle">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_House"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_IronFence"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_LampPost">
        <Aliases value="_TownIndicator"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Logs">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Lumbermill_Effect">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_TownIndicator"/>
        <On Terms="SetPlayerId" Send="AnimPlay Morph Morph"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Mausoleum">
        <Aliases value="_TownIndicator"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_MineKit">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <On Terms="SetPlayerId" Send="AnimPlay Morph Morph"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <Aliases value="_TownIndicator"/>
        <Aliases value="_CreepEngulfable"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Peasant_Female">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Peasant_Male">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Peasant_Spectral_Female">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Peasant_Spectral_Male">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Pumpkins">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <Aliases value="_TownIndicator"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_RollingFog">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <Aliases value="_TownIndicator"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_SmeltingPot">
        <Aliases value="_TownIndicator"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Smoke">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
        <Aliases value="_TownIndicator"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_SmokeStack">
        <Aliases value="_TownIndicator"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_SpookyEyes">
        <Aliases value="_EditorHelper"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_TeamColorLight">
        <Aliases value="_TownIndicator"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_TestDummy"/>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Tree">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Waypoint_Entrance">
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_Waypoint_Wall">
        <EditorCategories value=""/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_Wintercrest_Lavapot">
        <EditorCategories value=""/>
        <Aliases value="_TownIndicator"/>
        <EditorFlags index="NoAutoRotate" value="1"/>
        <RandomScaleRange value="1.000000,1.000000"/>
        <DoodadFlags index="PauseAnimsWhileFogged" value="0"/>
    </CActorDoodad>
    <CActorDoodad id="Storm_Doodad_WinterCrest_CastleBuilding_Kit">
        <RandomScaleRange value="1.000000,1.000000"/>
    </CActorDoodad>
    <CActorDoodad id="StromWinterCrestRaven" parent="StormKingsCrestRaven">
        <Model value="StormWinterCrestNormalRaven"/>
    </CActorDoodad>
    <!-- Building Transition Stuff                                                               -->
    <CActorModel id="StructureOwnershipChangeRepairBuff" parent="StormModelAnimationStyleContinuousUnit">
        <!--<On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="Create"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.Off" Send="Destroy"/>-->
        <HostSiteOps Ops="SOpAttachCenter"/>
        <Model value="PlasmaShieldBuff"/>
    </CActorModel>
    <CActorModel id="StructureOwnershipChangeRepairIcon" parent="StormModelAnimationStyleContinuousUnit">
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="Create"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.Off" Send="Destroy"/>
        <On Terms="ActorCreation" Target="::Host" Send="SetShowStatusBar"/>
        <On Terms="ActorCreation; ValidateUnit IsMoonwellUnitTypeCombine" Send="ModelSwap StructureOwnershipChangeFountainRepairIcon"/>
        <HostSiteOps Ops="SOpAttachOverhead"/>
        <Model value="LowAmmoTowerDisabledModel"/>
        <Macros value="CinematicsModeMacro"/>
    </CActorModel>
    <!-- Altar Town Ownership Markers                                                               -->
    <CActorModel id="AltarTownMarkerGemNW" parent="StormModelAddition">
        <On Terms="ActorCreation" Send="SetPlayerId 11"/>
        <HostSiteOps Ops="SOpAttachHardPoint"/>
        <Model value="AltarTownMarkerGem"/>
        <FogVisibility value="Dimmed"/>
        <Inherits index="TeamColor" value="0"/>
    </CActorModel>
    <CActorModel id="AltarTownMarkerGemNE" parent="StormModelAddition">
        <On Terms="ActorCreation" Send="SetPlayerId 12"/>
        <HostSiteOps Ops="SOpAttachHardPoint05"/>
        <Model value="AltarTownMarkerGem"/>
        <FogVisibility value="Dimmed"/>
        <Inherits index="TeamColor" value="0"/>
    </CActorModel>
    <CActorModel id="AltarTownMarkerGemSE" parent="StormModelAddition">
        <On Terms="ActorCreation" Send="SetPlayerId 12"/>
        <HostSiteOps Ops="SOpAttachHardPoint03"/>
        <Model value="AltarTownMarkerGem"/>
        <FogVisibility value="Dimmed"/>
        <Inherits index="TeamColor" value="0"/>
    </CActorModel>
    <CActorModel id="AltarTownMarkerGemW" parent="StormModelAddition">
        <On Terms="ActorCreation" Send="SetPlayerId 11"/>
        <HostSiteOps Ops="SOpAttachHardPoint01"/>
        <Model value="AltarTownMarkerGem"/>
        <FogVisibility value="Dimmed"/>
        <Inherits index="TeamColor" value="0"/>
    </CActorModel>
    <CActorModel id="AltarTownMarkerGemSW" parent="StormModelAddition">
        <On Terms="ActorCreation" Send="SetPlayerId 11"/>
        <HostSiteOps Ops="SOpAttachHardPoint02"/>
        <Model value="AltarTownMarkerGem"/>
        <FogVisibility value="Dimmed"/>
        <Inherits index="TeamColor" value="0"/>
    </CActorModel>
    <CActorModel id="AltarTownMarkerGemE" parent="StormModelAddition">
        <On Terms="ActorCreation" Send="SetPlayerId 12"/>
        <HostSiteOps Ops="SOpAttachHardPoint04"/>
        <Model value="AltarTownMarkerGem"/>
        <FogVisibility value="Dimmed"/>
        <Inherits index="TeamColor" value="0"/>
    </CActorModel>
    <!-- Bomb Structure                                                                          -->
    <CActorRange id="BombStructureRange" parent="StormRangeAbilPlusSplat" abil="MapMechanicAbility"/>
    <CActorSplat id="BombStructureRangeSplat" parent="StormRangeSplat">
        <Scale value="2.312500"/>
    </CActorSplat>
    <CActorUnit id="BombStructureItem" parent="StormItemBase" unitName="BombStructureItem">
        <On Terms="ActorCreation" Send="$Birth PlayForever 0.000000 0.000000"/>
        <Model value="BombStructureItem"/>
        <Scale value="2.000000"/>
    </CActorUnit>
    <CActorModel id="BombStructureDebuff" parent="StormModelAnimationStyleContinuousUnit">
        <On Terms="Behavior.BombStructureBehavior.On" Send="Create"/>
        <On Terms="Behavior.BombStructureBehavior.Off" Send="Destroy"/>
        <HostSiteOps Ops="SOpAttachOrigin"/>
        <Model value="AzmodanGlobeOfAnnihilationBurningDebuff"/>
        <Scale value="3.000000"/>
    </CActorModel>
    <CActorModel id="BombStructureExplosion" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Behavior.BombStructureBehavior.Off" Send="Create"/>
        <Model value="TychusGrenadeExplosion"/>
        <Scale value="1.500000"/>
    </CActorModel>
    <CActorSound id="BombStructureExplosionSound" parent="SoundOneShot">
        <On Terms="Behavior.BombStructureBehavior.Off" Send="Create"/>
        <Sound value="Tychus_Grenade_Explosion"/>
    </CActorSound>
    <CActorBeamSimple id="BombStructureBeam" parent="BeamSimpleAnimationStyleContinuous">
        <On Terms="Effect.BombStructurePrecastPersistent.Start" Send="Create"/>
        <On Terms="Effect.BombStructurePrecastPersistent.Stop" Send="Destroy"/>
        <HostLaunch Subject="_Unit" Scope="Caster" Actor="Find"/>
        <HostLaunchSiteOps Ops="SOpMacGuffin"/>
        <HostImpact Subject="_Unit" Scope="Target" Actor="Find"/>
        <HostImpactSiteOps Ops="SOpAttachOrigin"/>
        <Model value="CaptureMacGuffinBeamRavenCourt"/>
    </CActorBeamSimple>
    <CActorSound id="BombStructureStartSound" parent="SoundOneShot">
        <On Terms="Abil.MapMechanicAbility.SourceCastStart" Send="Create"/>
        <Sound value="Event_RavenCurse_CollectTributeStart"/>
    </CActorSound>
    <CActorSound id="BombStructureLoopSound" parent="SoundContinuous">
        <On Terms="Abil.MapMechanicAbility.SourceCastStart" Send="Create"/>
        <On Terms="Abil.MapMechanicAbility.SourceCastStop" Send="Destroy"/>
        <Sound value="Event_RavenCurse_CollectTributeLoop"/>
    </CActorSound>
    <CActorSound id="BombStructureEndSound" parent="SoundOneShot">
        <On Terms="Effect.BombStructureInitialSet.Start; At Target" Send="Create"/>
        <Sound value="Event_RavenCurse_CollectTributeEnd"/>
    </CActorSound>
    <CActorModel id="BombStructureItemPickUpFX" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Behavior.MapMechanicStack.On" Send="Create"/>
        <On Terms="ActorCreation" Send="$Birth"/>
        <On Terms="AnimDone; AnimName Birth" Send="Destroy Immediate"/>
        <Remove Terms="ActorCreation" Send="AnimBracketStart BSD Birth Stand Death ContentPlayOnce"/>
        <HostSiteOps Ops="SOpAttachOverhead"/>
    </CActorModel>
    <!-- Land Grab Tower                                                                         -->
    <CActorUnit id="LandGrabCannonTower" parent="TownBaseStructure" unitName="LandGrabCannonTower">
        <Macros value="ModelSwapRestartGlobalLoopsMacro"/>
        <Macros value="LowAmmoTowerDisabledMacro"/>
        <Macros value="MULERepairTowerMacro"/>
        <Macros value="AmmoReplenishMacro"/>
        <!-- Creation -->
        <!-- Birth -->
        <!--<On Terms="Signal.*.PlayBuild" Send="AnimPlay Build Stand,Morph,Start"/>-->
        <On Terms="ActorCreation" Send="AnimPlay Build Stand,Morph,Start"/>
        <!-- Swap for standing model -->
        <On Terms="AnimDone; AnimName Build; ModelName TownTowerL3KingsCrestBirthModel" Send="Signal BirthFinished"/>
        <On Terms="AnimDone; AnimName Build; ModelName TownTowerL3KingsCrestBirthModel" Send="ModelSwap TownTowerL3KingsCrest"/>
        <!-- Morph to Dead State -->
        <On Terms="Behavior.TownCannonTowerInvulnerable.On" Send="Create TownCannonTowerL3ExplosionDeadBase"/>
        <On Terms="Behavior.TownCannonTowerInvulnerable.On" Send="Create TownCannonTowerL3ExplosionDeadTurret"/>
        <On Terms="AbilMorph.*.Finish; MorphTo TownCannonTowerDead" Send="Destroy Immediate"/>
        <On Terms="Effect.GuardTowerL3LaunchMissile.Start" Send="AnimPlay Attack Attack"/>
        <!-- Damaged model swaps -->
        <On Terms="Behavior.BuildingLightDamage.On" Send="Create TownCannonTowerL3ExplosionDamageLightBase"/>
        <On Terms="Behavior.BuildingLightDamage.On" Send="Create TownCannonTowerL3ExplosionDamageLightTurret"/>
        <On Terms="Behavior.BuildingLightDamage.On; ModelName TownTowerL3KingsCrest" Send="ModelSwap TownTowerL3KingsCrestDamageLight"/>
        <On Terms="Behavior.BuildingLightDamage.Off; ModelName TownTowerL3KingsCrestDamageLight" Send="ModelSwap TownTowerL3KingsCrest"/>
        <On Terms="Behavior.BuildingHeavyDamage.On" Send="Create TownCannonTowerL3ExplosionDamageHeavyBase"/>
        <On Terms="Behavior.BuildingHeavyDamage.On" Send="Create TownCannonTowerL3ExplosionDamageHeavyTurret"/>
        <On Terms="Behavior.BuildingHeavyDamage.On; ModelName TownTowerL3KingsCrestDamageLight" Send="ModelSwap TownTowerL3KingsCrestDamageHeavy"/>
        <On Terms="Behavior.BuildingHeavyDamage.Off; ModelName TownTowerL3KingsCrestDamageHeavy" Send="ModelSwap TownTowerL3KingsCrestDamageLight"/>
        <On Terms="Behavior.BuildingHeavyDamage.On" Send="Create TownCannonTowerDamageHeavySoundLoop"/>
        <On Terms="Behavior.BuildingLightDamage.On" Send="Create TownCannonTowerDamageLightSoundLoop"/>
        <On Terms="Behavior.BuildingHeavyDamage.Off" Target="TownCannonTowerDamageLightSoundLoop" Send="Destroy"/>
        <On Terms="Behavior.BuildingHeavyDamage.Off" Target="TownCannonTowerDamageHeavySoundLoop" Send="Destroy"/>
        <On Terms="Signal.*.PlayBuild" Send="Create TestCannonTowerBuildSoundSequence"/>
        <On Terms="UnitDeath" Send="Create TownCannonTowerL3ExplosionDeadTurret"/>
        <On Terms="UnitDeath" Send="Create TownCannonTowerL3ExplosionDeadBase"/>
        <!--<On Terms="Behavior.TowerLowEnergyController.On" Send="SetTintColor 90,90,90 0.650000 OneShot Powerdown"/>
        <On Terms="Behavior.TowerLowEnergyController.Off" Send="ClearTintColor 0.650000 Powerdown"/>-->
        <Model value="TownTowerL3KingsCrestBirthModel"/>
        <BuildModel value="TownTowerL3KingsCrest"/>
        <DeathActorModel value="UnitDeathModelPersistent"/>
        <DeathActorModelLow value="UnitDeathModelPersistent"/>
        <PlacementModel value="TownTowerL3KingsCrest"/>
        <CustomUnitStatusFrame value="UnitStatus/TowerUnitStatusFrameTemplate"/>
        <GroupIcon>
            <Image index="0" value="Assets\Textures\ui_targetportrait_buildings_ravenscourt_tower_superior_blue.dds"/>
        </GroupIcon>
        <Wireframe>
            <Image index="0" value="Assets\Textures\ui_targetportrait_buildings_ravenscourt_tower_superior_red.dds"/>
        </Wireframe>
        <BarOffset value="-35"/>
        <ImpactSound value="BuildingTower_Impact"/>
        <DeathArray index="Normal" ModelLink="TownTowerL3KingsCrestDeath"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_tod_town_fill.dds"/>
        <MinimapIconBackground value="Assets\Textures\storm_ui_minimapicon_tod_town_outline.dds"/>
        <MinimapUnitStatusFrame value="MinimapUnitStatus/MinimapTownIcon"/>
        <MinimapIconIsTeamColored value="0"/>
        <MinimapIconScale value="0.680000"/>
    </CActorUnit>
    <CActorModel id="BaseProtectionTowerDamageImpactHero" parent="StormModelAnimationStyleOneShotUnit">
        <On Terms="Effect.BaseProtectionTowerAttackDamageSet.Start; At Target; ValidateUnit TargetIsHeroNotSummoned" Send="Create"/>
        <HostSiteOps Ops="SOpAttachOrigin SOpRotationRandomDisc" HoldPosition="1" HoldRotation="1"/>
    </CActorModel>
    <CActorSound id="BaseProtectionTowerDamageImpactSoundPlayer" parent="SoundOneShot">
        <On Terms="Effect.BaseProtectionTowerAttackDamageSet.Start; At Target; ValidateUnit TargetIsHeroNotSummoned" Send="Create"/>
        <Filter index="All" value="1"/>
        <VisibleToAtCreation index="Caster" value="1"/>
        <VisibleToAtCreation index="Source" value="1"/>
        <VisibleToAtCreation index="Target" value="1"/>
        <Sound value="Doodad_ProtectionTower_AttackImpact_Player"/>
    </CActorSound>
    <CActorSound id="BaseProtectionTowerDamageImpactSound" parent="SoundOneShot">
        <On Terms="Effect.BaseProtectionTowerAttackDamageSet.Start" Send="Create"/>
        <Filter index="All" value="1"/>
        <VisibleToAtCreation index="TargetAlly" value="1"/>
        <VisibleToAtCreation index="TargetNeutral" value="1"/>
        <VisibleToAtCreation index="TargetEnemy" value="1"/>
        <Sound value="Doodad_ProtectionTower_AttackImpact"/>
    </CActorSound>
    <CActorRange id="ProtectionTowerRangeIndicatorAlly" parent="RangeWeapon" weapon="BaseProtectionCannonTowerWeapon">
        <Filter index="Neutral" value="1"/>
        <Filter index="Enemy" value="1"/>
        <Inherits index="TeamColor" value="1"/>
        <FogVisibility value="Hidden"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <Range value="14.000000"/>
        <Icon value="Assets\Textures\storm_towerradius.dds"/>
        <IconArcLength value="4.000000"/>
    </CActorRange>
    <CActorRange id="ProtectionTowerRangeIndicatorEnemy" parent="RangeWeapon" weapon="BaseProtectionCannonTowerWeapon">
        <Filter index="Self" value="1"/>
        <Filter index="Ally" value="1"/>
        <Inherits index="TeamColor" value="1"/>
        <FogVisibility value="Hidden"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <Range value="14.000000"/>
        <Icon value="Assets\Textures\storm_towerradius.dds"/>
        <IconArcLength value="4.000000"/>
    </CActorRange>
    <CActorAction id="MapEventNecromancerCannonLaunchMissile" parent="GenericAttackStorm" effectImpact="MapEventNecromancerCannonImpactSet" effectLaunch="MapEventNecromancerCannonLaunchMissile">
        <LaunchAssets Model="MapEventNecromancerCannonLaunch" Sound="Event_Necro_Cannon_Fire_Close"/>
        <Missile value="MapEventNecromancerCannonMissile"/>
        <ImpactMap index="None" Sound="Event_Necro_Cannon_Explo_Close"/>
        <ImpactSound value="GenericAttackImpactSound"/>
    </CActorAction>
    <CActorAction id="MapEventRavenLordCannonLaunchMissile" parent="GenericAttackStorm" effectImpact="MapEventRavenLordCannonImpactSet" effectLaunch="MapEventRavenLordCannonLaunchMissile">
        <Missile value="MapEventRavenLordCannonMissile"/>
        <LaunchAssets Model="MapEventRavenLordCannonLaunch" Sound="Event_Raven_Cannon_Fire_Close"/>
        <ImpactMap index="None" Sound="Event_Raven_Cannon_Explo_Close"/>
        <ImpactSound value="GenericAttackImpactSound"/>
    </CActorAction>
    <CActorMissile id="MapEventRavenLordCannonMissile" parent="StormMissileWithDeath" unitName="MapEventRavenLordCannonMissile">
        <On Terms="ActorCreation" Send="Create MapEventRavenLordCannonLoop"/>
        <FogVisibility value="Visible"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_mercenary.dds"/>
        <MinimapIconIsTeamColored value="1"/>
        <MinimapRenderPriority value="Normal"/>
    </CActorMissile>
    <CActorSound id="MapEventRavenLordCannonLoop" parent="SoundContinuous">
        <Host Subject="::Creator"/>
        <Sound value="Event_Raven_CannonBall_Loop"/>
        <FogVisibility value="Visible"/>
    </CActorSound>
    <CActorMissile id="MapEventNecromancerCannonMissile" parent="StormMissileWithDeath" unitName="MapEventNecromancerCannonMissile">
        <On Terms="ActorCreation" Send="Create MapEventNecromancerCannonLoop"/>
        <FogVisibility value="Visible"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_mercenary.dds"/>
        <MinimapIconIsTeamColored value="1"/>
        <MinimapRenderPriority value="Normal"/>
    </CActorMissile>
    <CActorSound id="MapEventNecromancerCannonLoop" parent="SoundContinuous">
        <Host Subject="::Creator"/>
        <Sound value="Event_Necro_CannonBall_Loop"/>
        <FogVisibility value="Visible"/>
    </CActorSound>
    <CActorModel id="MapEventNecromancerCannonImpact" parent="StormModelAnimationStyleOneShotUnit">
        <HostSiteOps Ops="SOpAttachCenter"/>
        <On Terms="Effect.MapEventNecromancerCannonImpactSet.Start" Send="Create"/>
        <FogVisibility value="Visible"/>
    </CActorModel>
    <CActorModel id="MapEventRavenLordCannonImpact" parent="StormModelAnimationStyleOneShotUnit">
        <HostSiteOps Ops="SOpAttachCenter"/>
        <On Terms="Effect.MapEventRavenLordCannonImpactSet.Start" Send="Create"/>
        <FogVisibility value="Visible"/>
    </CActorModel>
    <CActorModel id="BossMercCampCannonImpact" parent="StormModelAnimationStyleOneShotUnit">
        <FogVisibility value="Visible"/>
        <On Terms="Effect.BossMercCampCannonImpactSet.Start" Send="Create"/>
        <HostSiteOps Ops="SOpAttachCenter"/>
    </CActorModel>
    <CActorAction id="BossMercCampCannonLaunchMissile" parent="GenericAttackStorm" effectImpact="BossMercCampCannonImpactSet" effectLaunch="BossMercCampCannonLaunchMissile">
        <LaunchAssets Sound="Event_Horsemen_Cannon_Fire_Close"/>
        <Missile value="BossMercCampCannonMissile"/>
        <ImpactMap index="None" Sound="Event_Horsemen_Cannon_Explo_Close"/>
        <ImpactSound value="GenericAttackImpactSound"/>
    </CActorAction>
    <CActorSound id="MapEventHeadlessCannonballImpactDistantSound" parent="SoundOneShot">
        <FogVisibility value="Visible"/>
        <On Terms="Effect.BossMercCampCannonImpactSet.Start; At Target" Send="Create"/>
        <Host Subject="_Unit"/>
        <Sound value="Event_Horsemen_Cannon_Explo_Distant"/>
        <Inherits index="Visibility" value="0"/>
    </CActorSound>
    <CActorSound id="MapEventHeadlessCannonballFireDistantSound" parent="SoundOneShot">
        <FogVisibility value="Visible"/>
        <On Terms="Effect.BossMercCampCannonLaunchMissile.Start; At Caster" Send="Create"/>
        <Host Subject="_Unit"/>
        <Sound value="Event_Horsemen_Cannon_Fire_Distant"/>
        <Inherits index="Visibility" value="0"/>
    </CActorSound>
    <CActorSound id="MapEventHeadlessCannonLoop" parent="SoundContinuous">
        <FogVisibility value="Visible"/>
        <Host Subject="::Creator"/>
        <Sound value="Event_Horsemen_Cannonball_Loop"/>
    </CActorSound>
    <CActorMissile id="BossMercCampCannonMissile" parent="StormMissileWithDeath" unitName="BossMercCampCannonMissile">
        <On Terms="ActorCreation" Send="Create MapEventMercCannonLoop"/>
        <On Terms="UnitBirth" Send="AnimBracketStart BSD IGNORE Stand Death"/>
        <FogVisibility value="Visible"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_mercenary.dds"/>
        <MinimapIconIsTeamColored value="1"/>
        <MinimapRenderPriority value="Normal"/>
        <Remove Terms="UnitBirth" Send="AnimBracketStart BSD Birth Stand Death"/>
    </CActorMissile>
    <CActorSound id="MapEventMercCannonLoop" parent="SoundContinuous">
        <Host Subject="::Creator"/>
        <Sound value="Event_Horsemen_CannonBall_Laugh"/>
        <FogVisibility value="Visible"/>
    </CActorSound>
    <CActorAction id="BaseProtectionTowerAttack" parent="GenericAttackStorm" effectImpact="BaseProtectionTowerDummyAttackImpactSet" effectLaunch="BaseProtectionTowerAttackLaunchMissile">
        <LaunchSiteOps Ops="SOpAttachWeapon"/>
        <LaunchAssets Model="Invisible" Sound=""/>
        <LaunchModel value="KingsCrestTownTowerAttackLaunchModel"/>
        <Missile value="BaseProtectionTowerMissile"/>
        <ImpactMap index="None" Model=""/>
        <ImpactModel value="KingsCrestTownTowerAttackImpactModel"/>
        <ImpactSound value="GenericAttackImpactSound"/>
        <ImpactPhysics Name="RangedImpact" MatchKeys="Basic" Physics="TowerAttackDeathForce"/>
        <ActionFlags index="ImpactSuppressUnitSound" value="1"/>
    </CActorAction>
    <CActorMissile id="BaseProtectionTowerMissile" parent="StormMissileWithDeathEarly" unitName="BaseProtectionTowerMissile"/>
    <CActorModel id="BaseProtectionTowerAttackImpactExplosion" parent="StormModelAnimationStyleOneShot">
        <On Terms="Effect.BaseProtectionTowerAttackImpactSet.Start" Send="Create"/>
    </CActorModel>
    <CActorUnit id="NeutralTownCaptureBeacon" parent="GenericUnitStandard" unitName="NeutralTownCaptureBeacon">
        <UnitFlags index="SuppressDefaultStatusBar" value="1"/>
        <On Terms="Signal.*.OwnerOrder" Send="AnimBracketStart BSD Work,Start Work,Stand Work,End"/>
        <On Terms="Signal.*.OwnerChaos" Send="AnimBracketStart BSD Work,Start Work,Stand Work,End"/>
        <On Terms="Signal.*.OwnerNeutral" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.Show" Send="SetShowStatusBar 1"/>
        <On Terms="Signal.*.Hide" Send="SetShowStatusBar"/>
        <BarOffset value="0"/>
        <CustomUnitStatusFrame value="UnitStatus/CaptureBeaconUnitStatusFrame"/>
    </CActorUnit>
    <CActorUnit id="ScoringCaptureBeacon" parent="GenericUnitStandard" unitName="ScoringCaptureBeacon">
        <On Terms="Signal.*.OwnerOrder" Send="AnimBracketStart BSD Work,Start Work,Stand Work,End"/>
        <On Terms="Signal.*.OwnerChaos" Send="AnimBracketStart BSD Work,Start Work,Stand Work,End"/>
        <On Terms="Signal.*.OwnerNeutral" Send="AnimBracketStop BSD"/>
        <On Terms="Signal.*.Show" Send="SetShowStatusBar 1"/>
        <On Terms="Signal.*.Hide" Send="SetShowStatusBar"/>
        <On Terms="Signal.*.Upgrade" Send="ModelMaterialApply GlazeFireTangentSpace"/>
        <On Terms="Signal.*.Upgrade" Send="MinimapIconTintColor 255,255,255,0"/>
        <BarOffset value="0"/>
        <CustomUnitStatusFrame value="UnitStatus/CaptureBeaconUnitStatusFrame"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_spiderqueen_turnin.dds"/>
        <MinimapIconScale value="0.500000"/>
        <MinimapTooltip value="Unit/Name/ScoringCaptureBeacon"/>
        <UnitFlags index="SuppressDefaultStatusBar" value="1"/>
    </CActorUnit>
    <CActorUnit id="ScoringAltar" parent="StormMinionBase" unitName="ScoringAltar">
        <On Terms="Signal.*.Activate" Send="AnimPlay Activate Morph"/>
        <On Terms="Signal.*.Activate" Send="Create ScoringAltarActivationSound"/>
        <On Terms="Signal.*.Activate" Send="AnimPlay ChannelSpin Spell,Channel PlayForever"/>
        <On Terms="Signal.*.Activate" Send="AnimSetPaused ChannelSpin"/>
        <On Terms="AnimDone; AnimName Activate" Send="AnimGroupApply Alternate {} {} Instant"/>
        <On Terms="Effect.CaptureMacGuffin.Start; IsStatus BeingChanneled 0" Send="AnimBracketStart LightBlink Stand,Work,Start Stand,Work Stand,Work,End"/>
        <On Terms="Effect.CaptureMacGuffin.Start; IsStatus BeingChanneled 0" Send="AnimSetPaused ChannelSpin 0"/>
        <On Terms="Effect.CaptureMacGuffin.Start" Send="StatusIncrement BeingChanneled"/>
        <On Terms="Effect.CaptureMacGuffin.Stop" Send="StatusDecrement BeingChanneled"/>
        <On Terms="Effect.CaptureMacGuffin.Stop; IsStatus BeingChanneled 0" Send="AnimBracketStop LightBlink"/>
        <On Terms="Effect.CaptureMacGuffin.Stop; IsStatus BeingChanneled 0" Send="AnimSetPaused ChannelSpin"/>
        <On Terms="ActorCreation" Send="AnimBracketStart BSD Stand,Unpowered,Start Stand,Unpowered Stand,Unpowered,End"/>
        <On Terms="Signal.*.Deactivate" Send="AnimPlay Deactivate Spell"/>
        <On Terms="Signal.*.Deactivate" Send="AnimSetPaused ChannelSpin 0"/>
        <On Terms="AnimDone; AnimName Deactivate" Send="AnimGroupRemove Alternate Instant"/>
        <On Terms="AnimDone; AnimName Deactivate" Send="AnimClear ChannelSpin"/>
        <!-- Gem Attachments  -->
        <On Terms="ActorCreation" Send="Create AltarTownMarkerGemE"/>
        <On Terms="ActorCreation" Send="Create AltarTownMarkerGemNE"/>
        <On Terms="ActorCreation" Send="Create AltarTownMarkerGemSE"/>
        <On Terms="ActorCreation" Send="Create AltarTownMarkerGemW"/>
        <On Terms="ActorCreation" Send="Create AltarTownMarkerGemNW"/>
        <On Terms="ActorCreation" Send="Create AltarTownMarkerGemSW"/>
        <!-- Gem Updating  -->
        <On Terms="Signal.*.OneNeutral" Target="AltarTownMarkerGemNW" Send="SetPlayerId"/>
        <On Terms="Signal.*.OneOrder" Target="AltarTownMarkerGemNW" Send="SetPlayerId 11"/>
        <On Terms="Signal.*.OneChaos" Target="AltarTownMarkerGemNW" Send="SetPlayerId 12"/>
        <On Terms="Signal.*.TwoNeutral" Target="AltarTownMarkerGemW" Send="SetPlayerId"/>
        <On Terms="Signal.*.TwoOrder" Target="AltarTownMarkerGemW" Send="SetPlayerId 11"/>
        <On Terms="Signal.*.TwoChaos" Target="AltarTownMarkerGemW" Send="SetPlayerId 12"/>
        <On Terms="Signal.*.ThreeNeutral" Target="AltarTownMarkerGemSW" Send="SetPlayerId"/>
        <On Terms="Signal.*.ThreeOrder" Target="AltarTownMarkerGemSW" Send="SetPlayerId 11"/>
        <On Terms="Signal.*.ThreeChaos" Target="AltarTownMarkerGemSW" Send="SetPlayerId 12"/>
        <On Terms="Signal.*.FourNeutral" Target="AltarTownMarkerGemNE" Send="SetPlayerId"/>
        <On Terms="Signal.*.FourOrder" Target="AltarTownMarkerGemNE" Send="SetPlayerId 11"/>
        <On Terms="Signal.*.FourChaos" Target="AltarTownMarkerGemNE" Send="SetPlayerId 12"/>
        <On Terms="Signal.*.FiveNeutral" Target="AltarTownMarkerGemE" Send="SetPlayerId"/>
        <On Terms="Signal.*.FiveOrder" Target="AltarTownMarkerGemE" Send="SetPlayerId 11"/>
        <On Terms="Signal.*.FiveChaos" Target="AltarTownMarkerGemE" Send="SetPlayerId 12"/>
        <On Terms="Signal.*.SixNeutral" Target="AltarTownMarkerGemSE" Send="SetPlayerId"/>
        <On Terms="Signal.*.SixOrder" Target="AltarTownMarkerGemSE" Send="SetPlayerId 11"/>
        <On Terms="Signal.*.SixChaos" Target="AltarTownMarkerGemSE" Send="SetPlayerId 12"/>
        <!--<Baselines index="Stand" AnimProps="Stand,00"/>-->
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_tod_altar_inactive.dds"/>
        <MinimapIconScale value="0.680000"/>
        <MinimapIconType value="MapMechanicNeutral"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <StatusBarFlags index="Magazine" value="0"/>
        <StatusBarFlags index="Custom" value="0"/>
        <StatusBarOn index="Custom" value="1"/>
        <MinimapTooltip value="Unit/Name/ScoringAltar"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
        <MinimapUseSelfColor value="0"/>
    </CActorUnit>
    <CActorUnit id="BombChest" parent="StormUnitBase" unitName="BombChest">
        <Macros value="PreTargetHaloMacro"/>
        <On Terms="UnitHighlightLocal.*.Start" Send="StatusIncrement PreTargetingTint"/>
        <On Terms="UnitHighlightLocal.*.Stop" Send="StatusDecrement PreTargetingTint"/>
        <On Terms="Effect.BombChestResponseDummy.Start" Send="$Spell,A 0 -1.000000 -1.000000 1.000000 AsTimeScale"/>
        <On Terms="Effect.BombChestResponseDummy.Start" Send="TimerSet 1.000000 NoLoopTimer"/>
        <On Terms="TimerExpired; TimerName NoLoopTimer" Send="AnimClear Spell"/>
        <!--<On Terms="Effect.DocksTreasureChestResponseDummy.Start" Send="Create TreasureChestGetHitImpactSound"/>-->
        <On Terms="UnitBirth.BombChest" Send="AnimPlay BSD Birth"/>
        <On Terms="Signal.*.Snapshot" Send="RefSetFromMsg ::actor.SnapShot ::Sender"/>
        <On Terms="ActorDestruction" Target="::actor.SnapShot" Send="Destroy"/>
        <CustomUnitStatusFrame value="FieldofSlaughter/BombChestUnitStatusFrameTemplate"/>
        <GroupIcon>
            <Image value="Assets\Textures\ui_targetportrait_bbay_doubloonchest.dds"/>
        </GroupIcon>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_treasurechest.dds"/>
        <MinimapIconScale value="0.500000"/>
        <MinimapTooltip value="Unit/Name/BombChest"/>
        <MinimapIconType value="Hidden"/>
        <SnapshotActor value="SnapshotChest"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <StatusBarFlags index="Magazine" value="0"/>
        <Wireframe>
            <Image value="Assets\Textures\ui_targetportrait_bbay_doubloonchest.dds"/>
        </Wireframe>
    </CActorUnit>
    <CActorUnit id="ToDWallPathingBlocker" parent="PathingBlocker" unitName="PathingBlockerToDWall">
        <EditorModel value="PathingBlocker2x2"/>
        <HighlightTooltip value="Unit/Name/StormGameStartPathingBlocker"/>
    </CActorUnit>
    <CActorUnit id="TownCannonTowerDead"/>
    <CActorModel id="TownCannonTowerDeathModel">
        <Aliases value="_ToDClearable"/>
    </CActorModel>
    <CActorSound id="TownFortUpgradeIntroSound" parent="SoundOneShot">
        <Sound value="Event_Towers_BuildingUpgrade_Birth"/>
        <Host Subject="::Creator"/>
    </CActorSound>
    <CActorSound id="TownFortUpgradeLoopingSound" parent="SoundContinuous">
        <Sound value="Event_Towers_BuildingUpgrade_Loop"/>
        <Host Subject="::Creator"/>
    </CActorSound>
    <CActorSound id="TownFortUpgradeOutroSound" parent="SoundOneShot">
        <Sound value="Event_Towers_BuildingUpgrade_Death"/>
        <Host Subject="::Creator"/>
    </CActorSound>
    <CActorModel id="TownTownHall2DeadModel">
        <Aliases value="_ToDClearable"/>
    </CActorModel>
    <!--CActorModel id="TownTownHallL3ExplosionDead" parent="UnitDeathModel">-->
    <!--        <Model value="TownTownHallL3Death"/>-->
    <!--    </CActorModel>-->
    <!--    <CActorModel id="TownTownHallL3Death" parent="UnitDeathModel"/-->
    <CActorModel id="TownTownHall3DeadModel">
        <On Terms="ActorCreation" Send="AnimPlay Morph Morph PlayForever 0.000000"/>
        <Aliases value="_ToDClearable"/>
    </CActorModel>
    <!-- Level 2  -->
    <CActorUnit id="TownTownHallL2">
        <On Terms="AbilMorph.*.Finish; MorphTo TownTownHallL3; MorphFrom TownTownHallL2" Send="Destroy"/>
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize RavenTownHallL2BirthModel"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize NecroTownHallL2BirthModel"/>
        <On Terms="Signal.*.StartGame; PlayerId 11 11" Send="ModelSwap RavenTownHallL2"/>
        <On Terms="Signal.*.StartGame; PlayerId 12 12" Send="ModelSwap NecroTownHallL2"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="MinimapIcon Assets\Textures\storm_ui_minimapicon_tod_town_regen_25.dds"/>
        <!-- Rebuilding animation that's set up to handle the mid-rebuild upgrade possibility -->
        <!-- Cover,End needs 7 seconds to play.  BuildTimer needs to be (Build Duration-Cover,End) seconds -->
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="TimerSet 13.000000 BuildTimer"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="AnimPlay CaptureStart Cover,Start"/>
        <On Terms="AnimDone; AnimName CaptureStart" Send="AnimPlay CaptureStand Cover,Stand PlayForever 0.000000"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimClear CaptureStand"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimPlay CaptureEnd Cover,End 0 0.000000"/>
        <On Terms="AnimDone; AnimName CaptureEnd; PlayerId 11 11" Send="ModelSwap RavenTownHallL2"/>
        <On Terms="AnimDone; AnimName CaptureEnd; PlayerId 12 12" Send="ModelSwap NecroTownHallL2"/>
        <!-- Launching the big gun at the core -->
        <On Terms="Effect.MapEventRavenLordCannonLaunchMissile.Start" Send="AnimPlay Cannon Attack,Superior"/>
        <On Terms="Effect.MapEventNecromancerCannonLaunchMissile.Start" Send="AnimPlay Cannon Attack,Superior"/>
        <!-- Death Models -->
        <On Terms="UnitDeathCustomize; PlayerId 11 11" Send="DeathCustomize Variation0"/>
        <On Terms="UnitDeathCustomize; PlayerId 12 12" Send="DeathCustomize Variation1"/>
        <DeathCustoms ModelLink="RavenTownHallL2Death" SoundLink="Doodad_TownHall_Heaven_Death" Name="Variation0"/>
        <DeathCustoms ModelLink="NecroTownHallL2Death" SoundLink="Doodad_TownHall_Hell_Death" Name="Variation1"/>
        <Model value="RavenTownHallL2"/>
        <BuildModel value="RavenTownHallL2"/>
        <DeathArray index="Normal" ModelLink="RavenTownHallL2Death"/>
        <PlacementModel value="RavenTownHallL2"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_tod_town_fill.dds"/>
        <MinimapIconBackground value="Assets\Textures\storm_ui_minimapicon_tod_town_outline.dds"/>
    </CActorUnit>
    <CActorUnit id="TownCannonTowerL2Standalone">
        <On Terms="AbilMorph.*.Finish; MorphTo TownCannonTowerL3Standalone; MorphFrom TownCannonTowerL2Standalone" Send="Destroy"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="TimerSet 13.000000 Reactivate"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="ModelSwap TownTowerOwnershipChangeModel"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="AnimPlay CustomBirth Cover,Start DontResetOnUnhide 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="AnimDone; AnimName CustomBirth" Send="AnimPlay CustomStand Cover,Stand 0 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="TimerExpired; TimerName Reactivate" Send="AnimClear CustomStand 0.000000"/>
        <On Terms="TimerExpired; TimerName Reactivate" Send="AnimPlay CustomStandEnd Cover,End 0 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="AnimDone; AnimName CustomStandEnd" Send="ModelSwap TownTowerL2KingsCrest"/>
    </CActorUnit>
    <CActorUnit id="TownMoonwellL2">
        <On Terms="AbilMorph.*.Finish; MorphTo TownMoonwellL3; MorphFrom TownMoonwellL2" Send="Destroy"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="ModelSwap TownMoonwellOwnershipChangeModel"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="TimerSet 13.000000 Reactivate"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="AnimPlay CustomBirth Cover,Start DontResetOnUnhide 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="AnimDone; AnimName CustomBirth" Send="AnimPlay CustomStand Cover,Stand 0 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="TimerExpired; TimerName Reactivate" Send="AnimClear CustomStand 0.000000"/>
        <On Terms="TimerExpired; TimerName Reactivate" Send="AnimPlay CustomStandEnd Cover,End 0 0.000000 0.000000 1.000000 AsTimeScale"/>
        <On Terms="AnimDone; AnimName CustomStandEnd" Send="ModelSwap TownMoonwellL2"/>
        <On Terms="AssetPreInit" Send="ModelLinkCustomize TownMoonwellL2"/>
        <ModelAspectSets index="0" removed="1"/>
    </CActorUnit>
    <!-- Level 3  -->
    <CActorUnit id="TownTownHallL3">
        <On Terms="AbilMorph.*.Finish; MorphTo TownTownHallL3; MorphFrom TownTownHallL2" Send="Create"/>
        <On Terms="AssetPreInit; PlayerId 11 11" Send="ModelLinkCustomize RavenTownHallL3BirthModel"/>
        <On Terms="AssetPreInit; PlayerId 12 12" Send="ModelLinkCustomize NecroTownHallL3BirthModel"/>
        <!--<On Terms="AbilMorph.*.Finish; MorphTo TownTownHallL3; MorphFrom TownTownHallL2; PlayerId 11 11" Send="ModelSwap RavenTownHallL3"/>
        <On Terms="AbilMorph.*.Finish; MorphTo TownTownHallL3; MorphFrom TownTownHallL2; PlayerId 12 12" Send="ModelSwap NecroTownHallL3"/>-->
        <On Terms="Signal.*.Upgrade; PlayerId 11 11" Send="ModelSwap RavenTownHallL3"/>
        <On Terms="Signal.*.Upgrade; PlayerId 12 12" Send="ModelSwap NecroTownHallL3"/>
        <!-- Town Hall L3 Model Stuff -->
        <On Terms="ActorCreation" Send="AnimPlay Morph Morph PlayForever 0.000000"/>
        <On Terms="Signal.*.PlayMorph" Send="AnimClear Morph 0.000000"/>
        <On Terms="Signal.*.PlayMorph" Send="AnimPlay MorphIntro Morph,Start 0 0.000000"/>
        <On Terms="AnimDone; AnimName MorphIntro" Send="AnimPlay Morph Morph PlayForever"/>
        <On Terms="ActorCreation" Send="Create TownFortUpgradeFX"/>
        <On Terms="UnitDeath" Target="TownFortUpgradeFX" Send="AnimBracketStop BSD"/>
        <On Terms="ActorCreation" Send="Create TownFortUpgradeIntroSound"/>
        <On Terms="ActorCreation" Send="TimerSet 3.333300 BirthTimer"/>
        <On Terms="TimerExpired; TimerName BirthTimer" Send="Create TownFortUpgradeLoopingSound"/>
        <On Terms="UnitDeath" Target="TownFortUpgradeLoopingSound" Send="Destroy"/>
        <On Terms="UnitDeath" Send="Create TownFortUpgradeOutroSound"/>
        <!-- Rebuilding animation that's set up to handle the mid-rebuild upgrade possibility -->
        <!-- Cover,End needs 7 seconds to play.  BuildTimer needs to be (Build Duration-Cover,End) seconds -->
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="TimerSet 13.000000 BuildTimer"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="AnimPlay CaptureStart Cover,Start"/>
        <On Terms="AnimDone; AnimName CaptureStart" Send="AnimPlay CaptureStand Cover,Stand PlayForever 0.000000"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimClear CaptureStand"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimPlay CaptureEnd Cover,End 0 0.000000"/>
        <On Terms="AnimDone; AnimName CaptureEnd; PlayerId 11 11" Send="ModelSwap RavenTownHallL3"/>
        <On Terms="AnimDone; AnimName CaptureEnd; PlayerId 12 12" Send="ModelSwap NecroTownHallL3"/>
        <!-- Launching the big gun at the core -->
        <On Terms="Effect.MapEventRavenLordCannonLaunchMissile.Start" Send="AnimPlay Cannon Attack,Superior"/>
        <On Terms="Effect.MapEventNecromancerCannonLaunchMissile.Start" Send="AnimPlay Cannon Attack,Superior"/>
        <!-- Death Models -->
        <On Terms="UnitDeathCustomize; PlayerId 11 11" Send="DeathCustomize Variation0"/>
        <On Terms="UnitDeathCustomize; PlayerId 12 12" Send="DeathCustomize Variation1"/>
        <DeathCustoms ModelLink="RavenTownHallL3Death" SoundLink="Doodad_TownHall_Heaven_Death" Name="Variation0"/>
        <DeathCustoms ModelLink="NecroTownHallL3Death" SoundLink="Doodad_TownHall_Hell_Death" Name="Variation1"/>
        <BuildModel value="RavenTownHallL3"/>
        <DeathArray index="Normal" ModelLink="RavenTownHallL3Death"/>
        <PlacementModel value="RavenTownHallL3"/>
        <Model value="NecroTownHallL3BirthModel"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_tod_town_fill.dds"/>
        <MinimapIconBackground value="Assets\Textures\storm_ui_minimapicon_tod_town_outline.dds"/>
    </CActorUnit>
    <CActorUnit id="TownCannonTowerL3Standalone">
        <On Terms="AbilMorph.*.Finish; MorphTo TownCannonTowerL3Standalone; MorphFrom TownCannonTowerL2Standalone" Send="Create"/>
        <On Terms="AssetPreInit" Send="ModelLinkCustomize TownTowerOwnershipChangeModel"/>
        <On Terms="Signal.*.Upgrade" Send="ModelSwap TownTowerL3KingsCrest"/>
        <!-- Rebuilding animation that's set up to handle the mid-rebuild upgrade possibility -->
        <!-- Cover,End needs 7 seconds to play.  BuildTimer needs to be (Build Duration-Cover,End) seconds -->
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="TimerSet 13.000000 BuildTimer"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="AnimPlay CaptureStart Cover,Start"/>
        <On Terms="AnimDone; AnimName CaptureStart" Send="AnimPlay CaptureStand Cover,Stand PlayForever 0.000000"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimClear CaptureStand"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimPlay CaptureEnd Cover,End 0 0.000000"/>
        <On Terms="AnimDone; AnimName CaptureEnd" Send="ModelSwap TownTowerL3KingsCrest"/>
        <On Terms="ActorCreation" Send="Create TownCannonTowerUpgradeFX"/>
    </CActorUnit>
    <CActorModel id="TownCannonTowerUpgradeFX" parent="StormModelAddition">
        <Inherits index="BaseModelScale" value="0"/>
        <Inherits index="Scale" value="0"/>
        <FogVisibility value="Dimmed"/>
        <Remove Terms="ActorOrphan" Send="Destroy"/>
        <On Terms="ActorOrphan" Send="AnimBracketStop BSD"/>
        <ModelFlags index="AllowHitTest" value="0"/>
        <ModelFlags index="AutomatedGlobalLoopsIgnoreOrphan" value="1"/>
        <Host Subject="::Creator"/>
        <HostSiteOps HoldRotation="1"/>
    </CActorModel>
    <CActorModel id="TownFortUpgradeFX" parent="StormModelAddition">
        <Inherits index="BaseModelScale" value="0"/>
        <Inherits index="Scale" value="0"/>
        <FogVisibility value="Dimmed"/>
        <ModelFlags index="AllowHitTest" value="0"/>
        <ModelFlags index="AutomatedGlobalLoopsIgnoreOrphan" value="1"/>
        <Host Subject="::Creator"/>
        <HostSiteOps HoldRotation="1"/>
    </CActorModel>
    <CActorUnit id="TownMoonwellL3">
        <On Terms="AbilMorph.*.Finish; MorphTo TownMoonwellL3; MorphFrom TownMoonwellL2" Send="Create"/>
        <On Terms="AssetPreInit" Send="ModelLinkCustomize TownMoonwellOwnershipChangeModel"/>
        <On Terms="Signal.*.Upgrade" Send="ModelSwap TownMoonwellL3"/>
        <!-- Rebuilding animation that's set up to handle the mid-rebuild upgrade possibility -->
        <!-- Cover,End needs 7 seconds to play.  BuildTimer needs to be (Build Duration-Cover,End) seconds -->
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="TimerSet 13.000000 BuildTimer"/>
        <On Terms="Behavior.StructureOwnershipChangeRepairBehavior.On" Send="AnimPlay CaptureStart Cover,Start"/>
        <On Terms="AnimDone; AnimName CaptureStart" Send="AnimPlay CaptureStand Cover,Stand PlayForever 0.000000"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimClear CaptureStand"/>
        <On Terms="TimerExpired; TimerName BuildTimer" Send="AnimPlay CaptureEnd Cover,End 0 0.000000"/>
        <On Terms="AnimDone; AnimName CaptureEnd" Send="ModelSwap TownMoonwellL3"/>
        <ModelAspectSets index="0" removed="1"/>
    </CActorUnit>
    <CActorModel id="WaygateEntranceBase" parent="StormModelAddition">
        <ModelFlags index="AllowHitTest" value="0"/>
        <Inherits index="Visibility" value="1"/>
        <Host Subject="::Creator"/>
        <HostSiteOps Ops="SOpAttachOrigin"/>
        <FogVisibility value="Dimmed"/>
    </CActorModel>
    <!-- Waypoint Stuff                                                                          -->
    <CActorUnit id="WaygateUnit" parent="GenericUnitStandard" unitName="WaygateUnit">
        <On Terms="ActorCreation" Send="SetShowStatusBar"/>
        <On Terms="ActorCreation" Send="SetMinimapVisibility"/>
        <On Terms="Signal.*.WaygateOpen" Send="AnimPlay Open Morph"/>
        <On Terms="AnimDone; AnimName Open" Send="AnimGroupApply Alternate"/>
        <BarOffset value="0"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_tod_waygate_out.dds"/>
        <MinimapIconScale value="0.680000"/>
        <MinimapTooltip value="Minimap/Tooltip/WaygateUnit"/>
        <MinimapIconType value="Hidden"/>
        <UnitFlags index="ShowBlobShadow" value="0"/>
        <UnitFlags index="SuppressDefaultStatusBar" value="1"/>
        <MinimapIconIsTeamColored value="1"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
    </CActorUnit>
    <CActorUnit id="WaygateEntrance" parent="StormMinionBase" unitName="WaygateEntrance">
        <On Terms="ActorCreation" Send="Create WaygateEntranceBase"/>
        <On Terms="ActorCreation" Send="StatusSet NoHalo 1"/>
        <On Terms="Signal.*.EntranceActive" Send="AnimPlay Open Morph"/>
        <On Terms="AnimDone; AnimName Open" Send="AnimGroupApply Alternate"/>
        <On Terms="Behavior.MacguffinActivated.On" Send="Create WaygateEntranceAreaMessage"/>
        <On Terms="Behavior.MacguffinActivated.On" Send="StatusSet NoHalo 0"/>
        <On Terms="ActorCreation" Send="SetMinimapVisibility"/>
        <Baselines index="Stand" AnimProps="Stand,00"/>
        <DeathCustoms ModelLink="MassHallucinationDeath" SoundLink="Tassadar_MassHallucination_DeathLarge" Name="Hallucination"/>
        <CustomUnitStatusFrame value="UnitStatus/MapMechanicHelpButton"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <StatusBarFlags index="Magazine" value="0"/>
        <StatusBarFlags index="Custom" value="0"/>
        <StatusBarOn index="Custom" value="1"/>
        <Macros value="PreTargetRemoveEnemyHaloMacro"/>
        <Aliases value="_CreepEngulfable"/>
        <CreepHeightClass value="Default"/>
        <CreepRateGrow value="Grow"/>
        <CreepRateShrink value="Shrink"/>
    </CActorUnit>
    <CActorUnit id="WaygateEntranceMinimapIconActor" parent="GenericUnitStandard" unitName="WaygateEntranceMinimapIconActor">
        <On Terms="ActorCreation" Send="SetMinimapVisibility"/>
        <On Terms="Signal.*.EntranceActive" Send="SetMinimapVisibility 1"/>
        <MinimapIcon value="Assets\Textures\storm_ui_minimapicon_tod_waygate_in.dds"/>
        <MinimapIconScale value="0.680000"/>
        <MinimapTooltip value="WaygateEntrance"/>
        <MinimapIconType value="Hidden"/>
        <Model value="Invisible"/>
        <HighlightTooltip value="Unit/Name/Bogus"/>
        <Aliases value="_WaygateEntrance"/>
        <Filter index="Neutral" value="1"/>
        <Filter index="Enemy" value="1"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <StatusBarFlags index="Magazine" value="0"/>
        <StatusBarFlags index="Custom" value="0"/>
        <MinimapIconIsTeamColored value="1"/>
    </CActorUnit>
    <CActorRegionCircle id="WaygateEntranceAreaMessage">
        <Radius value="1.000000"/>
        <On Terms="ActorCreation" Send="QueryRegion ::Self WaygateEntranceAreaQuery AgainstCenter"/>
        <On Terms="ActorCreation" Send="Destroy"/>
    </CActorRegionCircle>
    <CActorQueryResponse id="WaygateEntranceAreaQuery">
        <Subject Filters="Unit" Terms="ScopeContains _WaygateEntrance"/>
        <OnResponse Target="_WaygateEntrance" Send="Signal EntranceActive"/>
    </CActorQueryResponse>
    <CActorAction id="LandGrabTowerAttack" parent="GenericAttackStorm" effectImpact="LandGrabTowerDamage" effectLaunch="LandGrabTowerLaunchMissile">
        <ImpactMap index="None" Model="KingsCrestTowerMissileImpact" Sound="Doodad_CannonTower_AttackImpact"/>
        <LaunchAssets Model="Invisible" Sound="Doodad_CannonTower_AttackLaunch"/>
        <Missile value="KingsCrestTownTowerAttackMissile"/>
        <ImpactPhysics Name="RangedImpact" MatchKeys="Basic" Physics="TowerAttackDeathForce"/>
        <ImpactModel value="KingsCrestTownTowerAttackImpactModel"/>
        <LaunchModel value="KingsCrestTownTowerAttackLaunchModel"/>
        <LaunchSiteOps Ops="SOpAttachWeapon"/>
        <ImpactSound value="GenericAttackImpactSound"/>
        <ActionFlags index="ImpactSuppressUnitSound" value="1"/>
    </CActorAction>
    <CActorScene id="SYSTEM_Scene">
        <On Terms="Signal.*.CreateCameraLight" Send="Create FieldCameraLight"/>
    </CActorScene>
    <CActorDoodad id="MMController">
        <On Terms="ActorCreation" Target="::Scene" Send="Signal CreateCameraLight"/>
    </CActorDoodad>
    <CActorModel id="FieldCameraLight" parent="StormModelAnimationStyleContinuousUnit">
        <HostSiteOps Ops="SOpGameCameraFollow SOpShadow" HoldRotation="1"/>
        <FogVisibility value="Visible"/>
    </CActorModel>
    <CActorModel id="WintercrestBossJackOLantern1" parent="StormModelAnimationStyleContinuousUnit">
        <Model value="WintercrestBossJackOLanterns"/>
        <HostSiteOps Ops="SOpAttachHardPoint"/>
        <FogVisibility value="Hidden"/>
    </CActorModel>
    <CActorModel id="WintercrestBossJackOLantern2" parent="StormModelAnimationStyleContinuousUnit">
        <Model value="WintercrestBossJackOLanterns"/>
        <HostSiteOps Ops="SOpAttachHardPoint01"/>
        <FogVisibility value="Hidden"/>
    </CActorModel>
    <CActorModel id="WintercrestBossJackOLantern3" parent="StormModelAnimationStyleContinuousUnit">
        <Model value="WintercrestBossJackOLanterns"/>
        <HostSiteOps Ops="SOpAttachHardPoint02"/>
        <FogVisibility value="Hidden"/>
    </CActorModel>
    <CActorModel id="WintercrestBossJackOLantern4" parent="StormModelAnimationStyleContinuousUnit">
        <Model value="WintercrestBossJackOLanterns"/>
        <HostSiteOps Ops="SOpAttachHardPoint03"/>
        <FogVisibility value="Hidden"/>
    </CActorModel>
</Catalog>
