<?xml version="1.0" encoding="us-ascii"?>
<tree>
  <include file="AI/HeroMutator.aitree" />
  <mod id="113F3C526A69716D">
    <insertChild id="95122038978A7C8A" before="" />
  </mod>
  <mod id="202020001A6E616C">
    <insertChild id="95122038978A7C8A" before="" />
  </mod>
  <mod id="2032324177785766">
    <insertChild id="95122038978A7C8A" before="" />
  </mod>
  <mod id="293A07263D585353">
    <insertChild id="95122038978A7C8A" after="5A5E546126002001" />
  </mod>
  <mod id="3390040F92C448AF">
    <insertChild id="95122038978A7C8A" before="" />
  </mod>
  <mod id="505301123122302F">
    <insertChild id="95122038978A7C8A" before="" />
  </mod>
  <mod id="544C3920273B0007">
    <removeChild id="002C1543565C7177" />
    <insertChild id="20916D5439E90405" after="52455D5663544E62" />
  </mod>
  <mod id="6C616369000C0E06">
    <insertChild id="EBA64928C4C1E8E9" after="93801AED1753AA9B" />
  </mod>
  <mod id="7410D9A2AA6167F4">
    <insertChild id="89E53067AB55A9A4" after="048308FC361860F5" />
  </mod>
  <mod id="746F6F526F726548">
    <variable name="Healing Beam Retarget Delay" type="Time" />
    <variable name="Detonate Displacement Grenade Picky Timer" type="Time" />
    <variable name="Displacement Grenade Direction Point" type="Point" />
    <variable name="Healing Beam Target Unit (Global)" type="Unit" />
  </mod>
  <mod id="87811D772E337EB7">
    <insertChild id="315C59F142AE7210" />
    <insertChild id="F249E210D99D02F6" />
    <insertChild id="BB510FB616D1AFA4" />
  </mod>
  <mod id="A4058AA255280C17">
    <insertChild id="96D43AC187771A40" />
    <insertChild id="8F461E78C42C691F" />
    <insertChild id="6819F5BF669C1157" />
  </mod>
  <mod id="A4F7C85D6DE4D3F3">
    <insertChild id="95122038978A7C8A" before="" />
  </mod>
  <mod id="F21BCB9B06948439">
    <insertChild id="129139A2A450B7DF" />
    <insertChild id="74637B9AA341298D" />
  </mod>
  <node name="Safeguard" type="AbilityUsable" id="129139A2A450B7DF">
    <property name="Ability" valueSource="literal" value="MedicSafeguard" />
    <insertChild id="50C64B76F6DDA362" />
  </node>
  <node name="Safeguard" type="And" id="50C64B76F6DDA362">
    <variable name="Safeguard Range" type="Number" valueSource="lookup" value="Abil,MedicSafeguard,Range" />
    <variable name="Safeguard Target" type="Unit" />
    <insertChild id="5A40BE316D5C712D" />
    <insertChild id="6A526EA7B9C9F5FC" />
    <insertChild id="415FBCAC3C1FEF47" />
  </node>
  <node name="Cast" type="Ability" id="415FBCAC3C1FEF47">
    <property name="Ability" valueSource="literal" value="MedicSafeguard" />
    <property name="TargetUnit" valueSource="variable" value="Safeguard Target" />
  </node>
  <node name="Target Selection" type="Or" id="5A40BE316D5C712D">
    <insertChild id="A3FB0C1B1FA5D37B" />
    <insertChild id="3B38BD93903E71F5" />
    <insertChild id="D0F6CF65EEBC0F4D" />
    <insertChild id="8A0F44261E8E175E" />
  </node>
  <node name="&lt; 40% Hero" type="FindBestTarget" id="1C0EFE660F86AEFE">
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="OutputTarget" value="Safeguard Target" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.4" />
    <property name="MaxTargetDistance" valueSource="variable" value="Safeguard Range" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
  </node>
  <node name="Does Not Have Safeguard" type="FilterBehavior" id="A3FB0C1B1FA5D37B">
    <property name="Behavior" valueSource="literal" value="MedicSafeguardBuff" />
    <property name="BehaviorRequiredCaster" valueSource="intrinsic" value="Self" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="DC84B156D3CA0C03" />
  </node>
  <node name="Recently Damaged" type="FilterRecentlyDamaged" id="DC84B156D3CA0C03">
    <property name="WithinSeconds" valueSource="literal" value="2" />
    <insertChild id="1C0EFE660F86AEFE" />
  </node>
  <node name="Threatened by Hero" type="And" id="3B38BD93903E71F5">
    <insertChild id="CA35DA933191D0D3" />
    <insertChild id="CD5D02D7CA195D02" />
  </node>
  <node name="Does Not Have Safeguard" type="FilterBehavior" id="CA35DA933191D0D3">
    <property name="Behavior" valueSource="literal" value="MedicSafeguardBuff" />
    <property name="BehaviorRequiredCaster" valueSource="intrinsic" value="Self" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="C866EC7D4E616733" />
  </node>
  <node name="Recently Damaged" type="FilterRecentlyDamaged" id="C866EC7D4E616733">
    <property name="WithinSeconds" valueSource="literal" value="2" />
    <insertChild id="361CFE5C4A9836FA" />
  </node>
  <node name="&lt; 60% Hero" type="FindBestTarget" id="361CFE5C4A9836FA">
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="OutputTarget" value="Safeguard Target" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
    <property name="MaxTargetDistance" valueSource="variable" value="Safeguard Range" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
  </node>
  <node name="1+ Enemy Hero Nearby" type="UnitCount" id="CD5D02D7CA195D02">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="SearchCenter" valueSource="variable" value="Safeguard Target" />
  </node>
  <node name="Does Not Have Safeguard" type="FilterBehavior" id="7E0BB1A6A4DEDE21">
    <property name="Behavior" valueSource="literal" value="MedicSafeguardBuff" />
    <property name="BehaviorRequiredCaster" valueSource="intrinsic" value="Self" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="6F81BF78FC26D224" />
  </node>
  <node name="Recently Damaged" type="FilterRecentlyDamaged" id="6F81BF78FC26D224">
    <property name="WithinSeconds" valueSource="literal" value="2" />
    <insertChild id="D5F508413F87EB71" />
  </node>
  <node name="Is Slowed and Not Otherwise Hard CCed" type="FilterBehaviorCategory" id="D5F508413F87EB71">
    <property name="RequiredCategories" valueSource="literal" value="Slow" />
    <property name="ExcludeCategories" valueSource="literal" value="Stun,KnockedOut,Sleeping,DebuffRoot" />
    <insertChild id="1502DA31A8944E23" />
  </node>
  <node name="&lt; 70% Hero" type="FindBestTarget" id="1502DA31A8944E23">
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="OutputTarget" value="Safeguard Target" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
    <property name="MaxTargetDistance" valueSource="variable" value="Safeguard Range" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
  </node>
  <node name="Physical Therapy" type="UnitHasTalent" id="C168A812E91CC92B">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="MedicPhysicalTherapy" />
  </node>
  <node name="Physical Therapy" type="And" id="8A0F44261E8E175E">
    <insertChild id="C168A812E91CC92B" />
    <insertChild id="7E0BB1A6A4DEDE21" />
  </node>
  <node name="Threatened by Hero" type="And" id="D0F6CF65EEBC0F4D">
    <insertChild id="BDE3D29D3EF0E7E4" />
    <insertChild id="0657C1AF89FE0D79" />
  </node>
  <node name="Does Not Have Safeguard" type="FilterBehavior" id="BDE3D29D3EF0E7E4">
    <property name="Behavior" valueSource="literal" value="MedicSafeguardBuff" />
    <property name="BehaviorRequiredCaster" valueSource="intrinsic" value="Self" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="FD1C80F028F89EE9" />
  </node>
  <node name="Recently Damaged" type="FilterRecentlyDamaged" id="FD1C80F028F89EE9">
    <property name="WithinSeconds" valueSource="literal" value="2" />
    <insertChild id="4AFC9800E8BE8901" />
  </node>
  <node name="&lt; 75% Hero" type="FindBestTarget" id="4AFC9800E8BE8901">
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="OutputTarget" value="Safeguard Target" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.75" />
    <property name="MaxTargetDistance" valueSource="variable" value="Safeguard Range" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
  </node>
  <node name="2+ Enemy Heroes Nearby" type="UnitCount" id="0657C1AF89FE0D79">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="SearchCenter" valueSource="variable" value="Safeguard Target" />
  </node>
  <node name="Healing Beam" type="AbilityUsable" id="317A219EA57064BB">
    <property name="Ability" valueSource="literal" value="MedicHealingBeam" />
  </node>
  <node name="Healing Beam" type="And" id="74637B9AA341298D">
    <insertChild id="1AE554BDF35F488F" />
    <insertChild id="0FFD5481CCD7045F" />
  </node>
  <node name="Ability Ready" type="Or" id="1AE554BDF35F488F">
    <insertChild id="317A219EA57064BB" />
    <insertChild id="800B29475033631F" />
  </node>
  <node name="Redirect Healing Beam" type="AbilityUsable" id="800B29475033631F">
    <property name="Ability" valueSource="literal" value="MedicRedirectHealingBeam" />
  </node>
  <node name="Mana Filter" type="Or" id="AE0986ED3F47B49F">
    <insertChild id="FEA722FBAA74F78E" />
    <insertChild id="08E2DB97262B77BB" />
    <insertChild id="1CFE6356F8FDCFA2" />
    <insertChild id="840AF9459E851BEF" />
    <insertChild id="178D2F39D2C63857" />
  </node>
  <node name="&gt; 70%" type="And" id="08E2DB97262B77BB">
    <insertChild id="2702A1796F190148" />
    <insertChild id="C884BE0570E8F7AE" />
  </node>
  <node name="70% Energy" type="EnergyFraction" id="2702A1796F190148">
    <property name="EnergyFraction" valueSource="literal" value="0.7" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="Or" id="C884BE0570E8F7AE">
    <insertChild id="0CDB97A90C7F98C2" />
    <insertChild id="D349A9BE8BFAF9F4" />
  </node>
  <node name="&gt; 50%" type="And" id="1CFE6356F8FDCFA2">
    <insertChild id="4002A5CB3108B917" />
    <insertChild id="4BE350D3FBC0D93F" />
  </node>
  <node name="50% Energy" type="EnergyFraction" id="4002A5CB3108B917">
    <property name="EnergyFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="&gt; 30%" type="And" id="840AF9459E851BEF">
    <insertChild id="4A99338159197094" />
    <insertChild id="80B8584EEBC4FC2F" />
  </node>
  <node name="30% Energy" type="EnergyFraction" id="4A99338159197094">
    <property name="EnergyFraction" valueSource="literal" value="0.3" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="&gt; 90%" type="And" id="FEA722FBAA74F78E">
    <insertChild id="B7A6D3211015CB88" />
    <insertChild id="E49E891DEFA0A935" />
  </node>
  <node name="90% Energy" type="EnergyFraction" id="B7A6D3211015CB88">
    <property name="EnergyFraction" valueSource="literal" value="0.9" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="Or" id="E49E891DEFA0A935">
    <insertChild id="FE2093517DA6BF80" />
    <insertChild id="FC43895035A5CF3B" />
    <insertChild id="90D4DBBDD2940DA0" />
  </node>
  <node name="&lt; 30%" type="Or" id="178D2F39D2C63857">
    <insertChild id="6DC4BCD0E123437D" />
    <insertChild id="338DEDECD2D63A27" />
    <insertChild id="ECEA5C139764A19C" />
  </node>
  <node name="&lt; 90% Ally Hero" type="FindBestTarget" id="FE2093517DA6BF80">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.9" />
  </node>
  <node name="Cast Ability" type="IfElse" id="DAD4BC3645356F64">
    <insertChild id="206CCD2F38BC11D8" />
    <insertChild id="31D33A672BAC2EF6" />
    <insertChild id="1EBD7710C8D38D3B" />
  </node>
  <node name="Redirect Healing Beam" type="Ability" id="31D33A672BAC2EF6">
    <property name="Ability" valueSource="literal" value="MedicRedirectHealingBeam" />
    <property name="TargetUnit" valueSource="variable" value="Healing Beam Target Unit" />
    <property name="DoNotThrottle" valueSource="literal" value="true" />
  </node>
  <node name="Healing Beam" type="Ability" id="1EBD7710C8D38D3B">
    <property name="Ability" valueSource="literal" value="MedicHealingBeam" />
    <property name="TargetUnit" valueSource="variable" value="Healing Beam Target Unit" />
    <property name="DoNotThrottle" valueSource="literal" value="true" />
  </node>
  <node name="Cancel Healing Beam" type="Ability" id="9EA0AA6FC66CD62D">
    <property name="Ability" valueSource="literal" value="MedicRedirectHealingBeam" />
    <property name="DoNotThrottle" valueSource="literal" value="true" />
    <property name="TargetUnit" valueSource="intrinsic" value="Self" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="FC43895035A5CF3B">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="91321A1CDD5137F3" />
  </node>
  <node name="&lt; 100% Ally Hero" type="FindBestTarget" id="91321A1CDD5137F3">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.99" />
  </node>
  <node name="Self &lt; 90%" type="LifeFraction" id="191D1A985C362676">
    <property name="LifeFraction" valueSource="literal" value="0.9" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="A8449E7B6A90A366" />
  </node>
  <node name="100% Ally Unit" type="FindBestTarget" id="A8449E7B6A90A366">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="MinLifeFraction" valueSource="literal" value="1" />
  </node>
  <node name="Not Regenerating Energy" type="UnitHasBehavior" id="0CDB97A90C7F98C2">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamCooldown" />
    <insertChild id="3738C43FFB56D157" />
  </node>
  <node name="Is Regenerating Energy" type="UnitHasBehavior" id="D349A9BE8BFAF9F4">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamCooldown" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="B33435B6C5A3D76F" />
  </node>
  <node name="" type="Or" id="3738C43FFB56D157">
    <insertChild id="154D92A1336D2E3F" />
    <insertChild id="FA053736C69F11AD" />
    <insertChild id="B19E3ED666C2B69C" />
  </node>
  <node name="&lt; 80% Ally Hero" type="FindBestTarget" id="154D92A1336D2E3F">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.8" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="FA053736C69F11AD">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="8DB97327D715BD6E" />
  </node>
  <node name="Self &lt; 80%" type="LifeFraction" id="F4C9EFF6CB6E0A65">
    <property name="LifeFraction" valueSource="literal" value="0.8" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="DD7452CD8E67FC53" />
  </node>
  <node name="&lt; 90% Ally Hero" type="FindBestTarget" id="8DB97327D715BD6E">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.9" />
  </node>
  <node name="" type="Or" id="B33435B6C5A3D76F">
    <insertChild id="77957163969A572F" />
    <insertChild id="0FE0F6EC1CEAC4E6" />
    <insertChild id="F8AEC28903A84CD0" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="0FE0F6EC1CEAC4E6">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="DBE6B2505AA7E91E" />
  </node>
  <node name="&lt; 80% Ally Hero" type="FindBestTarget" id="DBE6B2505AA7E91E">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.8" />
  </node>
  <node name="Self &lt; 70%" type="LifeFraction" id="DA0D8E4842CD1A10">
    <property name="LifeFraction" valueSource="literal" value="0.7" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="B0CA5895BC48CBE8" />
  </node>
  <node name="" type="Or" id="4BE350D3FBC0D93F">
    <insertChild id="2D4B9BD571702C4D" />
    <insertChild id="0D42ADBEE000C9D8" />
  </node>
  <node name="Not Regenerating Energy" type="UnitHasBehavior" id="2D4B9BD571702C4D">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamCooldown" />
    <insertChild id="B9CA7A385C7BA546" />
  </node>
  <node name="" type="Or" id="B9CA7A385C7BA546">
    <insertChild id="6676DF1E3B17C7A2" />
    <insertChild id="1805EFC4E4697424" />
    <insertChild id="55DF1A20EB20458B" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="1805EFC4E4697424">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="E7F2E661E2D586CD" />
  </node>
  <node name="Self &lt; 70%" type="LifeFraction" id="B3C7E4E72F56F7BF">
    <property name="LifeFraction" valueSource="literal" value="0.7" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="FC6335B1F1251377" />
  </node>
  <node name="Is Regenerating Energy" type="UnitHasBehavior" id="0D42ADBEE000C9D8">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamCooldown" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="653B09519499556E" />
  </node>
  <node name="" type="Or" id="653B09519499556E">
    <insertChild id="C2D8315B05E5AA70" />
    <insertChild id="BD123FD72B33E6C9" />
    <insertChild id="5299D3FB3828A562" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="BD123FD72B33E6C9">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="9325F187FC68689A" />
  </node>
  <node name="&lt; 70% Ally Hero" type="FindBestTarget" id="6676DF1E3B17C7A2">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
  </node>
  <node name="&lt; 80% Ally Hero" type="FindBestTarget" id="E7F2E661E2D586CD">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.8" />
  </node>
  <node name="" type="Or" id="80B8584EEBC4FC2F">
    <insertChild id="78D7CA7A899C5136" />
    <insertChild id="2AB693A40FB4070F" />
  </node>
  <node name="Not Regenerating Energy" type="UnitHasBehavior" id="78D7CA7A899C5136">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamCooldown" />
    <insertChild id="A709D010F438A892" />
  </node>
  <node name="" type="Or" id="A709D010F438A892">
    <insertChild id="8A547A8F4EBBA194" />
    <insertChild id="E78FC26C650C6803" />
    <insertChild id="3D0D229F9796ADCD" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="E78FC26C650C6803">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="8C1CEE6618919EFF" />
  </node>
  <node name="Self &lt; 60%" type="LifeFraction" id="B5B7CC399B89FA32">
    <property name="LifeFraction" valueSource="literal" value="0.6" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="519079D3155CF38D" />
  </node>
  <node name="Is Regenerating Energy" type="UnitHasBehavior" id="2AB693A40FB4070F">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamCooldown" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
    <insertChild id="BFF9F6104835A43B" />
  </node>
  <node name="" type="Or" id="BFF9F6104835A43B">
    <insertChild id="F7A8AD16BDFAFB2A" />
    <insertChild id="20B8C9B966ACE06A" />
    <insertChild id="857D623312135DB7" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="20B8C9B966ACE06A">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="43F7371FEAC79249" />
  </node>
  <node name="Self &lt; 50%" type="LifeFraction" id="551FA4A8B44BAB05">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="E6007D0DB43DEF34" />
  </node>
  <node name="&lt; 60% Ally Hero" type="FindBestTarget" id="8A547A8F4EBBA194">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
  </node>
  <node name="&lt; 70% Ally Hero" type="FindBestTarget" id="8C1CEE6618919EFF">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="519079D3155CF38D">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="FC6335B1F1251377">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="B0CA5895BC48CBE8">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="DD7452CD8E67FC53">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="E6007D0DB43DEF34">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="&lt; 50% Ally Hero" type="FindBestTarget" id="6DC4BCD0E123437D">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="0 Enemy Heroes Nearby" type="UnitCount" id="338DEDECD2D63A27">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="CBB24CC81E986607" />
  </node>
  <node name="Self &lt; 50%" type="LifeFraction" id="2FFA3D7D32D4D707">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="8D8D3CE8156255AF" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="8D8D3CE8156255AF">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="" type="IfElse" id="0FFD5481CCD7045F">
    <variable name="Healing Beam Range" type="Number" valueSource="lookup" value="Abil,MedicHealingBeam,Range" />
    <variable name="Healing Beam Target Unit" type="Unit" />
    <insertChild id="AE0986ED3F47B49F" />
    <insertChild id="156754E27CE9CEF7" />
    <insertChild id="9EA0AA6FC66CD62D" />
  </node>
  <node name="" type="And" id="156754E27CE9CEF7">
    <insertChild id="1A9BC64B189CEFBA" />
    <insertChild id="7B7A6A3723523691" />
    <insertChild id="55463A6118A8D12B" />
    <insertChild id="F96F302D3BCDAC7F" />
    <insertChild id="DAD4BC3645356F64" />
  </node>
  <node name="Check Retarget Delay" type="TimerFinished" id="1A9BC64B189CEFBA">
    <property name="FinishTime" valueSource="variable" value="Healing Beam Retarget Delay" />
  </node>
  <node name="2 Second Retarget Delay" type="TimerStart" id="7B7A6A3723523691">
    <property name="OutputFinishTime" value="Healing Beam Retarget Delay" />
    <property name="DurationSeconds" valueSource="literal" value="2" />
  </node>
  <node name="Not Already Being Healed" type="UnitHasBehavior" id="55463A6118A8D12B">
    <property name="Unit" valueSource="variable" value="Healing Beam Target Unit" />
    <property name="Behavior" valueSource="literal" value="MedicHealingBeamDisplayBuff" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
  </node>
  <node name="&lt; 70% Ally Hero" type="FindBestTarget" id="77957163969A572F">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
  </node>
  <node name="&lt; 60% Ally Hero" type="FindBestTarget" id="C2D8315B05E5AA70">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
  </node>
  <node name="&lt; 70% Ally Hero" type="FindBestTarget" id="9325F187FC68689A">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
  </node>
  <node name="Self &lt; 60%" type="LifeFraction" id="B94EF7B086E1DE32">
    <property name="LifeFraction" valueSource="literal" value="0.6" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="5D6E3579D477F54D" />
  </node>
  <node name="Ally Unit (100% preferred)" type="FindBestTarget" id="5D6E3579D477F54D">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
  </node>
  <node name="&lt; 50% Ally Hero" type="FindBestTarget" id="F7A8AD16BDFAFB2A">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="&lt; 60% Ally Hero" type="FindBestTarget" id="43F7371FEAC79249">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
  </node>
  <node name="&lt; 60% Ally Hero" type="FindBestTarget" id="CBB24CC81E986607">
    <property name="OutputTarget" value="Healing Beam Target Unit" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
  </node>
  <node name="Displacement Grenade" type="AbilityUsable" id="315C59F142AE7210">
    <property name="Ability" valueSource="literal" value="MedicDisplacementGrenade" />
    <insertChild id="4A3A3CE8F3B45590" />
  </node>
  <node name="Displacement Grenade" type="And" id="4A3A3CE8F3B45590">
    <variable name="Displacement Grenade Target Point" type="Point" />
    <variable name="Displacement Grenade AoE" type="Number" valueSource="lookup" value="Effect,MedicDisplacementGrenadeGroundImpactSearch,AreaArray[0].Radius" />
    <variable name="Displacement Grenade Max Distance" type="Number" value="13.25" />
    <insertChild id="8DA86A8E1DBF6FAF" />
    <insertChild id="6933D04A137B503A" />
    <insertChild id="2A9182CEA6067021" />
    <insertChild id="E3A14B04394DBB25" />
    <insertChild id="FC971D8D88EFECC3" />
  </node>
  <node name="Cast" type="Ability" id="FC971D8D88EFECC3">
    <property name="Ability" valueSource="literal" value="MedicDisplacementGrenade" />
    <property name="TargetPoint" valueSource="variable" value="Displacement Grenade Target Point" />
  </node>
  <node name="2+ Enemy Heroes" type="FindBestAOEPoint" id="2DA9B42EA3FE5D68">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="OutputTarget" value="Displacement Grenade Target Point" />
    <property name="AOERadius" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade Max Distance" />
    <property name="PredictionSeconds" valueSource="literal" value="0.625" />
  </node>
  <node name="Find Best Target" type="Or" id="6933D04A137B503A">
    <insertChild id="DEF46DFED886CB0B" />
    <insertChild id="2DA9B42EA3FE5D68" />
    <insertChild id="F4361C1314EC0C64" />
  </node>
  <node name="" type="Not" id="8DA86A8E1DBF6FAF">
    <insertChild id="6E24B8F343245ACA" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="6E24B8F343245ACA">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="4+ Enemy Units" type="FindBestAOEPoint" id="F4361C1314EC0C64">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Heroic,MapCreature" />
    <property name="MinTargets" valueSource="literal" value="4" />
    <property name="OutputTarget" value="Displacement Grenade Target Point" />
    <property name="AOERadius" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade Max Distance" />
    <property name="PredictionSeconds" valueSource="literal" value="0.625" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="1+ &lt; 50% Enemy Heroes" type="FindBestAOEPoint" id="DEF46DFED886CB0B">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="Displacement Grenade Target Point" />
    <property name="AOERadius" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade Max Distance" />
    <property name="PredictionSeconds" valueSource="literal" value="0.625" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="Detonate Displacement Grenade" type="AbilityUsable" id="96D43AC187771A40">
    <property name="Ability" valueSource="literal" value="MedicDetonateDisplacementGrenade" />
    <insertChild id="C7C08F41C579D859" />
  </node>
  <node name="Detonate Displacement Grenade" type="And" id="C7C08F41C579D859">
    <variable name="Displacement Grenade Unit" type="Unit" />
    <variable name="Displacement Grenade Future Point 1" type="Point" />
    <variable name="Displacement Grenade Future Point 2" type="Point" />
    <variable name="Displacement Grenade Future Score 1" type="Integer" />
    <variable name="Displacement Grenade Future Score 2" type="Integer" />
    <variable name="Displacement Grenade Score" type="Integer" />
    <variable name="Displacement Grenade AoE" type="Number" valueSource="lookup" value="Effect,MedicDisplacementGrenadeGroundImpactSearch,AreaArray[0].Radius" />
    <insertChild id="492B196B11BEBA71" />
    <insertChild id="02D34649E478D41B" />
    <insertChild id="9F21CDDB65C09DA3" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="9F21CDDB65C09DA3">
    <property name="Ability" valueSource="literal" value="MedicDetonateDisplacementGrenade" />
    <property name="DoNotThrottle" valueSource="literal" value="true" />
  </node>
  <node name="Current Count" type="UnitCount" id="AF8214DD09CDBCFE">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="OutputCount" value="Displacement Grenade Score" />
    <insertChild id="6CA57DF6476FF78E" />
  </node>
  <node name="FutureCount" type="UnitCount" id="6CA57DF6476FF78E">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Future Point 1" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.125" />
    <property name="OutputCount" value="Displacement Grenade Future Score 1" />
    <insertChild id="6932680DB574FCF4" />
  </node>
  <node name="Future2Count" type="UnitCount" id="6932680DB574FCF4">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Future Point 2" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.25" />
    <property name="OutputCount" value="Displacement Grenade Future Score 2" />
  </node>
  <node name="Find Missile" type="FindBestTarget" id="492B196B11BEBA71">
    <property name="TargetTypes" valueSource="literal" value="Player" />
    <property name="OutputTarget" value="Displacement Grenade Unit" />
    <property name="UnitType" valueSource="literal" value="MedicDisplacementGrenadeMissile" />
    <property name="ExcludeTypes" valueSource="literal" value="Dead" />
    <property name="RequiredTypes" valueSource="literal" value="" />
    <property name="MaxTargetDistance" valueSource="literal" value="30" />
    <insertChild id="66968562E50C75A9" />
  </node>
  <node name="Find point to determine direction" type="FindPointOnLine" id="2A9182CEA6067021">
    <property name="SourceUnit" valueSource="intrinsic" value="Self" />
    <property name="DestinationPoint" valueSource="variable" value="Displacement Grenade Target Point" />
    <property name="DistanceOffset" valueSource="literal" value="15" />
    <property name="OutputTarget" value="Displacement Grenade Direction Point" />
  </node>
  <node name="Missile Future Point" type="FindPointOnLine" id="66968562E50C75A9">
    <property name="OutputTarget" value="Displacement Grenade Future Point 1" />
    <property name="SourcePoint" valueSource="variable" value="Displacement Grenade Unit" />
    <property name="DestinationPoint" valueSource="variable" value="Displacement Grenade Direction Point" />
    <property name="DistanceOffset" valueSource="literal" value="2" />
    <insertChild id="3512FD5002B5335B" />
  </node>
  <node name="Missile Future Point 2" type="FindPointOnLine" id="3512FD5002B5335B">
    <property name="OutputTarget" value="Displacement Grenade Future Point 2" />
    <property name="SourcePoint" valueSource="variable" value="Displacement Grenade Unit" />
    <property name="DestinationPoint" valueSource="variable" value="Displacement Grenade Direction Point" />
    <property name="DistanceOffset" valueSource="literal" value="4" />
  </node>
  <node name="" type="Or" id="02D34649E478D41B">
    <insertChild id="2E20C238E727BC3D" />
    <insertChild id="126BABB0338BF1E6" />
    <insertChild id="C0D442B378D4977E" />
  </node>
  <node name="Best 2+ Hero Set" type="And" id="126BABB0338BF1E6">
    <insertChild id="BEA4814747751823" />
    <insertChild id="AF8214DD09CDBCFE" />
    <insertChild id="3DBA265916A3B108" />
  </node>
  <node name="Best Enemy Unit Set" type="And" id="C0D442B378D4977E">
    <insertChild id="3C7358FC3277C21F" />
    <insertChild id="4182CADD64E61BDE" />
    <insertChild id="AD1E81BBBD418052" />
  </node>
  <node name="Current Count" type="UnitCount" id="4182CADD64E61BDE">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Heroic,MapCreature" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="OutputCount" value="Displacement Grenade Score" />
    <insertChild id="E756B4DF47A1E512" />
  </node>
  <node name="FutureCount" type="UnitCount" id="E756B4DF47A1E512">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Future Point 1" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Heroic,MapCreature" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.125" />
    <property name="OutputCount" value="Displacement Grenade Future Score 1" />
    <insertChild id="C444D30EBAB3BF71" />
  </node>
  <node name="Future2Count" type="UnitCount" id="C444D30EBAB3BF71">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Future Point 2" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Heroic,MapCreature" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.25" />
    <property name="OutputCount" value="Displacement Grenade Future Score 2" />
  </node>
  <node name="Best &lt; 50% Hero Set" type="And" id="2E20C238E727BC3D">
    <insertChild id="6FC2CC6A0C05C517" />
    <insertChild id="EFA20AB8C935F005" />
  </node>
  <node name="Current Count" type="UnitCount" id="6FC2CC6A0C05C517">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="OutputCount" value="Displacement Grenade Score" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
    <insertChild id="8D7CE0E63F62A048" />
  </node>
  <node name="FutureCount" type="UnitCount" id="8D7CE0E63F62A048">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Future Point 1" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.125" />
    <property name="OutputCount" value="Displacement Grenade Future Score 1" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
    <insertChild id="A1CA175E4CFA9453" />
  </node>
  <node name="Future2Count" type="UnitCount" id="A1CA175E4CFA9453">
    <property name="SearchCenter" valueSource="variable" value="Displacement Grenade Future Point 2" />
    <property name="MaxTargetDistance" valueSource="variable" value="Displacement Grenade AoE" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.25" />
    <property name="OutputCount" value="Displacement Grenade Future Score 2" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="Current &gt;= Future" type="CompareNumber" id="972AEDD799F3DE4B">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 1" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="94CEE278002A3FD5" />
  </node>
  <node name="Current &gt;= Future 2" type="CompareNumber" id="94CEE278002A3FD5">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 2" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="" type="Or" id="EFA20AB8C935F005">
    <insertChild id="B7011DEC1EDA76B4" />
    <insertChild id="9E658F711E00D4FB" />
  </node>
  <node name="" type="Or" id="3DBA265916A3B108">
    <insertChild id="45942E63C3B6CCD6" />
    <insertChild id="3E137983EE6AC917" />
  </node>
  <node name="Current &gt;= Future" type="CompareNumber" id="DE7BA84F88D5F681">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 1" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="1E1C0DF558387693" />
  </node>
  <node name="Current &gt;= Future 2" type="CompareNumber" id="1E1C0DF558387693">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 2" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="" type="Or" id="AD1E81BBBD418052">
    <insertChild id="18CAF25BD201D43E" />
    <insertChild id="5FA2843975E0F69D" />
  </node>
  <node name="Current &gt;= Future" type="CompareNumber" id="E7DD722BDA9E7E3F">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 1" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="F506F19BB79DAF59" />
  </node>
  <node name="Current &gt;= Future 2" type="CompareNumber" id="F506F19BB79DAF59">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 2" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="Current &gt;= 2" type="CompareNumber" id="7E4EEA389438FC7B">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="literal" value="2" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="Be Less Picky" type="TimerFinished" id="5FA2843975E0F69D">
    <property name="FinishTime" valueSource="variable" value="Detonate Displacement Grenade Picky Timer" />
    <insertChild id="7E4EEA389438FC7B" />
  </node>
  <node name="Be Less Picky" type="TimerFinished" id="3E137983EE6AC917">
    <property name="FinishTime" valueSource="variable" value="Detonate Displacement Grenade Picky Timer" />
    <insertChild id="EA1000E088D96FD9" />
  </node>
  <node name="Current &gt;= 1" type="CompareNumber" id="EA1000E088D96FD9">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="literal" value="1" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="Be Less Picky" type="TimerFinished" id="9E658F711E00D4FB">
    <property name="FinishTime" valueSource="variable" value="Detonate Displacement Grenade Picky Timer" />
    <insertChild id="53F5DD5CD0228058" />
  </node>
  <node name="Current &gt;= 1" type="CompareNumber" id="53F5DD5CD0228058">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="literal" value="1" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="Be Less Picky in 1 Second" type="TimerStart" id="E3A14B04394DBB25">
    <property name="OutputFinishTime" value="Detonate Displacement Grenade Picky Timer" />
    <property name="DurationSeconds" valueSource="literal" value="1" />
  </node>
  <node name="Current &gt;= 1" type="CompareNumber" id="B7011DEC1EDA76B4">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="literal" value="1" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="972AEDD799F3DE4B" />
  </node>
  <node name="Current &gt;= 2" type="CompareNumber" id="45942E63C3B6CCD6">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="literal" value="2" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="DE7BA84F88D5F681" />
  </node>
  <node name="Current &gt;= 4" type="CompareNumber" id="18CAF25BD201D43E">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="literal" value="4" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="E7DD722BDA9E7E3F" />
  </node>
  <node name="Fail if waiting for something above" type="Or" id="3C7358FC3277C21F">
    <insertChild id="B8E022BE7B869A2B" />
    <insertChild id="09A0DC253FBB8164" />
  </node>
  <node name="Current &gt;= Future" type="CompareNumber" id="B8E022BE7B869A2B">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 1" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="F3C8ABB8803EB574" />
  </node>
  <node name="Current &gt;= Future 2" type="CompareNumber" id="F3C8ABB8803EB574">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 2" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="Be Less Picky" type="TimerFinished" id="09A0DC253FBB8164">
    <property name="FinishTime" valueSource="variable" value="Detonate Displacement Grenade Picky Timer" />
  </node>
  <node name="Fail if waiting for something above" type="Or" id="BEA4814747751823">
    <insertChild id="47B294F0DC7CEE98" />
    <insertChild id="AB6F80FBD3A7FA34" />
  </node>
  <node name="Current &gt;= Future" type="CompareNumber" id="47B294F0DC7CEE98">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 1" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <insertChild id="EA79720F69E58B93" />
  </node>
  <node name="Current &gt;= Future 2" type="CompareNumber" id="EA79720F69E58B93">
    <property name="LeftHandSide" valueSource="variable" value="Displacement Grenade Score" />
    <property name="RightHandSide" valueSource="variable" value="Displacement Grenade Future Score 2" />
    <property name="Comparison" valueSource="literal" value="GE" />
  </node>
  <node name="Be Less Picky" type="TimerFinished" id="AB6F80FBD3A7FA34">
    <property name="FinishTime" valueSource="variable" value="Detonate Displacement Grenade Picky Timer" />
  </node>
  <node name="Cellular Reactor" type="AbilityUsable" id="8F461E78C42C691F">
    <property name="Ability" valueSource="literal" value="MedicCellularReactor" />
    <insertChild id="58DCCF960C3D51B9" />
  </node>
  <node name="Cellular Reactor" type="And" id="58DCCF960C3D51B9">
    <variable name="Healing Beam Range" type="Number" valueSource="lookup" value="Abil,MedicHealingBeam,Range" />
    <insertChild id="8A2D757A95CF181E" />
    <insertChild id="376AAE9376B606B7" />
    <insertChild id="DE49D03D2839765B" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="DE49D03D2839765B">
    <property name="Ability" valueSource="literal" value="MedicCellularReactor" />
  </node>
  <node name="0 Allies below 60% Nearby" type="UnitCount" id="FF4B49AFAFD4C08F">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
    <property name="MaxTargetDistance" valueSource="variable" value="Healing Beam Range" />
    <insertChild id="E9C4738F8CAE5774" />
  </node>
  <node name="" type="Or" id="376AAE9376B606B7">
    <insertChild id="FF4B49AFAFD4C08F" />
    <insertChild id="E22DDDA2AABD7F35" />
  </node>
  <node name="&lt; 50% Health" type="LifeFraction" id="E9C4738F8CAE5774">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="&lt; 25% Health" type="LifeFraction" id="E22DDDA2AABD7F35">
    <property name="LifeFraction" valueSource="literal" value="0.25" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Not In Base" type="UnitHasBehavior" id="8A2D757A95CF181E">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="HallOfStormsProtectionBuff" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
  </node>
  <node name="Fly or Walk" type="Select" id="20916D5439E90405">
    <insertChild id="95122038978A7C8A" />
    <insertChild id="002C1543565C7177" />
  </node>
  <node name="Dropship" type="AbilityUsable" id="95122038978A7C8A">
    <property name="Ability" valueSource="literal" value="MedicMedivacDropship" />
    <insertChild id="E94900AEC52EFF1B" />
  </node>
  <node name="Dropship" type="And" id="E94900AEC52EFF1B">
    <variable name="Medivac Target Point" type="Point" />
    <variable name="Medivac Range" type="Number" valueSource="lookup" value="Abil,MedicMedivacDropship,Range" />
    <insertChild id="1AFC1A3A15DFF5E7" />
    <insertChild id="E6F0699D6F73E9B8" />
    <insertChild id="8EF14C8C6397A897" />
    <insertChild id="6847AE0F0DBA6993" />
    <insertChild id="6C55E58172F0CA1C" />
    <insertChild id="9B711279A33E5B53" />
    <insertChild id="21BFFC93E44E319F" />
  </node>
  <node name="Wait until full if healing" type="Or" id="1AFC1A3A15DFF5E7">
    <insertChild id="49404B0E9E570CF5" />
    <insertChild id="0734EA51E7697426" />
  </node>
  <node name="Not In Base" type="UnitHasBehavior" id="49404B0E9E570CF5">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="HallOfStormsProtectionBuff" />
    <property name="StackComparison" valueSource="literal" value="Eq" />
  </node>
  <node name="Life = 100%" type="LifeFraction" id="0734EA51E7697426">
    <property name="LifeFraction" valueSource="literal" value="1" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Distance &gt; 40" type="Distance" id="8EF14C8C6397A897">
    <property name="SourceUnit" valueSource="intrinsic" value="Self" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <property name="Distance" valueSource="literal" value="40" />
    <property name="TargetPoint" valueSource="variable" value="TargetPosition" />
  </node>
  <node name="Cast" type="Ability" id="21BFFC93E44E319F">
    <property name="Ability" valueSource="literal" value="MedicMedivacDropship" />
    <property name="TargetPoint" valueSource="variable" value="Medivac Target Point" />
  </node>
  <node name="1+ Ally Near Medic" type="UnitCount" id="8B8CA46021B05E67">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="TargetCount" valueSource="literal" value="1" />
  </node>
  <node name="" type="Or" id="6847AE0F0DBA6993">
    <insertChild id="8B8CA46021B05E67" />
    <insertChild id="7BE20E8851AD2D55" />
  </node>
  <node name="2+ Allies Near Target" type="UnitCount" id="7BE20E8851AD2D55">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="SearchCenter" valueSource="variable" value="TargetPosition" />
  </node>
  <node name="Reinforcements (Depart)" type="AbilityUsable" id="6819F5BF669C1157">
    <property name="Ability" valueSource="literal" value="MedicReinforcements" />
    <insertChild id="69870DF8B9B2E0DE" />
  </node>
  <node name="Reinforcements (Depart)" type="And" id="69870DF8B9B2E0DE">
    <variable name="Reinforcements Ship" type="Unit" />
    <insertChild id="F64F2C5ACAC3CB36" />
    <insertChild id="1EE81617456FB7E3" />
    <insertChild id="F84D6529761949E2" />
    <insertChild id="411ADD630925D929" />
  </node>
  <node name="Reinforcements Ship Active Behavior" type="UnitHasBehavior" id="F64F2C5ACAC3CB36">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicMedivacDropshipReinforcementsTalentCasterBehavior" />
  </node>
  <node name="Find Medivac" type="FindBestTarget" id="1EE81617456FB7E3">
    <property name="UnitType" valueSource="literal" value="MedicMedivacDropship" />
    <property name="TargetTypes" valueSource="literal" value="Player" />
    <property name="ExcludeTypes" valueSource="literal" value="Dead" />
    <property name="SearchCenter" valueSource="intrinsic" value="SafePos" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="OutputTarget" value="Reinforcements Ship" />
  </node>
  <node name="0 Allies Near Medivac" type="UnitCount" id="F84D6529761949E2">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="MaxTargetDistance" valueSource="literal" value="15" />
    <property name="SearchCenter" valueSource="variable" value="Reinforcements Ship" />
    <property name="Comparison" valueSource="literal" value="Eq" />
  </node>
  <node name="Reinforcements (Summon)" type="AbilityUsable" id="BB510FB616D1AFA4">
    <property name="Ability" valueSource="literal" value="MedicReinforcements" />
    <insertChild id="DF88BB8B11ABC9ED" />
  </node>
  <node name="Reinforcements (Summon)" type="And" id="DF88BB8B11ABC9ED">
    <insertChild id="64AB17FF46B25880" />
    <insertChild id="C83D0A12F68AF83D" />
    <insertChild id="51644E0DC74F8DDD" />
    <insertChild id="6A283DF71BBA9C33" />
    <insertChild id="4B9F830D8C9CFABB" />
  </node>
  <node name="2+ Ally Heroes Near Spawn" type="UnitCount" id="51644E0DC74F8DDD">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="SearchCenter" valueSource="intrinsic" value="SafePos" />
    <property name="TargetCount" valueSource="literal" value="2" />
  </node>
  <node name="Distance &gt; 50" type="Distance" id="C83D0A12F68AF83D">
    <property name="SourceUnit" valueSource="intrinsic" value="Self" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <property name="Distance" valueSource="literal" value="50" />
    <property name="TargetPoint" valueSource="intrinsic" value="SafePos" />
  </node>
  <node name="Cast" type="Ability" id="411ADD630925D929">
    <property name="Ability" valueSource="literal" value="MedicReinforcements" />
    <property name="DoNotThrottle" valueSource="literal" value="true" />
  </node>
  <node name="Cast" type="Ability" id="4B9F830D8C9CFABB">
    <property name="Ability" valueSource="literal" value="MedicReinforcements" />
  </node>
  <node name="" type="Not" id="6A283DF71BBA9C33">
    <insertChild id="9492A3B73B95633D" />
  </node>
  <node name="" type="Or" id="9492A3B73B95633D">
    <insertChild id="A082C8B435431E1F" />
    <insertChild id="856E2787AE35829C" />
    <insertChild id="B5D506AB117F7C69" />
  </node>
  <node name="In Danger" type="IsInDanger" id="A082C8B435431E1F" />
  <node name="1+ Enemy Heroes Near Me" type="UnitCount" id="856E2787AE35829C">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="TargetCount" valueSource="literal" value="1" />
  </node>
  <node name="1+ Enemy Units Near Me" type="UnitCount" id="B5D506AB117F7C69">
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="6" />
    <property name="TargetCount" valueSource="literal" value="1" />
  </node>
  <node name="" type="Not" id="64AB17FF46B25880">
    <insertChild id="334D664849623C78" />
  </node>
  <node name="Reinforcements Ship Active Behavior" type="UnitHasBehavior" id="334D664849623C78">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicMedivacDropshipReinforcementsTalentCasterBehavior" />
  </node>
  <node name="Stim Drone" type="AbilityUsable" id="F249E210D99D02F6">
    <property name="Ability" valueSource="literal" value="MedicStimDrone" />
    <insertChild id="86710FBCF555534C" />
  </node>
  <node name="Stim Drone" type="And" id="86710FBCF555534C">
    <variable name="Stim Drone Target Unit" type="Unit" />
    <variable name="Stim Drone Range" type="Number" valueSource="lookup" value="Abil,MedicStimDrone,Range" />
    <insertChild id="40C87ED69FE755E7" />
    <insertChild id="AEA3554FDB7D225C" />
  </node>
  <node name="Cast" type="Ability" id="AEA3554FDB7D225C">
    <property name="Ability" valueSource="literal" value="MedicStimDrone" />
    <property name="TargetUnit" valueSource="variable" value="Stim Drone Target Unit" />
  </node>
  <node name="Auto Attacker" type="FilterPlaystyle" id="6B87AE12EAAD7E62">
    <property name="Playstyles" valueSource="literal" value="RoleAutoAttacker" />
    <insertChild id="E7F1E5938CB5332B" />
  </node>
  <node name="Find Ally Hero Nearby" type="FindBestTarget" id="E7F1E5938CB5332B">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="MaxTargetDistance" valueSource="variable" value="Stim Drone Range" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
    <property name="OutputTarget" value="Stim Drone Target Unit" />
  </node>
  <node name="Stim Drone Unit in Team Fight" type="IsInTeamfight" id="405876C81ACABAC6">
    <property name="TargetUnit" valueSource="variable" value="Stim Drone Target Unit" />
  </node>
  <node name="" type="Or" id="F2CCE713AADCDBEE">
    <insertChild id="405876C81ACABAC6" />
    <insertChild id="D5E6304A53614C1A" />
  </node>
  <node name="Medic in Team Fight" type="IsInTeamfight" id="D5E6304A53614C1A">
    <property name="TargetUnit" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="Or" id="40C87ED69FE755E7">
    <insertChild id="AF1A4CDEE29F8B0D" />
    <insertChild id="A3738309A1494D6C" />
    <insertChild id="D0A8DE845B605255" />
  </node>
  <node name="" type="And" id="AF1A4CDEE29F8B0D">
    <insertChild id="6B87AE12EAAD7E62" />
    <insertChild id="F2CCE713AADCDBEE" />
  </node>
  <node name="" type="And" id="A3738309A1494D6C">
    <insertChild id="9535C6D9A3E8B2FD" />
    <insertChild id="0FC7EF53BBE05C7F" />
  </node>
  <node name="Specialist" type="FilterPlaystyle" id="9535C6D9A3E8B2FD">
    <property name="Playstyles" valueSource="literal" value="RoleSpecialist" />
    <insertChild id="C52C51873F81A3F4" />
  </node>
  <node name="Find Ally Hero Nearby" type="FindBestTarget" id="C52C51873F81A3F4">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="MaxTargetDistance" valueSource="variable" value="Stim Drone Range" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
    <property name="OutputTarget" value="Stim Drone Target Unit" />
  </node>
  <node name="" type="Or" id="0FC7EF53BBE05C7F">
    <insertChild id="E08662EFAC04337F" />
    <insertChild id="184363A4CCB60927" />
  </node>
  <node name="Stim Drone Unit in Team Fight" type="IsInTeamfight" id="E08662EFAC04337F">
    <property name="TargetUnit" valueSource="variable" value="Stim Drone Target Unit" />
  </node>
  <node name="Medic in Team Fight" type="IsInTeamfight" id="184363A4CCB60927">
    <property name="TargetUnit" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="And" id="D0A8DE845B605255">
    <insertChild id="1A3DAB3C466E7662" />
    <insertChild id="D34929DC916CEE81" />
  </node>
  <node name="Tank" type="FilterPlaystyle" id="1A3DAB3C466E7662">
    <property name="Playstyles" valueSource="literal" value="RoleTank" />
    <insertChild id="EF6311B213CA4600" />
  </node>
  <node name="Find Ally Hero Nearby" type="FindBestTarget" id="EF6311B213CA4600">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="MaxTargetDistance" valueSource="variable" value="Stim Drone Range" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
    <property name="OutputTarget" value="Stim Drone Target Unit" />
  </node>
  <node name="" type="Or" id="D34929DC916CEE81">
    <insertChild id="8C7027F3DA8A25FB" />
    <insertChild id="FE67AAE71C4B213B" />
  </node>
  <node name="Stim Drone Unit in Team Fight" type="IsInTeamfight" id="8C7027F3DA8A25FB">
    <property name="TargetUnit" valueSource="variable" value="Stim Drone Target Unit" />
  </node>
  <node name="Medic in Team Fight" type="IsInTeamfight" id="FE67AAE71C4B213B">
    <property name="TargetUnit" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Store Target Unit" type="FindBestTarget" id="F96F302D3BCDAC7F">
    <property name="OutputTarget" value="Healing Beam Target Unit (Global)" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="ExcludeTypes" valueSource="literal" value="ImmuneToFriendlyAbilities,Missile,Stasis,Dead,Hallucination,Invulnerable,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="10" />
    <property name="MaxTargetDistance" valueSource="literal" value="0.1" />
    <property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned" />
    <property name="LifeFractionFactor" valueSource="literal" value="0" />
    <property name="SearchCenter" valueSource="variable" value="Healing Beam Target Unit" />
  </node>
  <node name="Casting Healing Beam" type="UnitHasBehavior" id="EBA64928C4C1E8E9">
    <property name="Behavior" valueSource="literal" value="MedicCastingHealingBeamBuff" />
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <insertChild id="13AE374933BE3C6D" />
  </node>
  <node name="Stay near Healing Beam Target" type="And" id="13AE374933BE3C6D">
    <variable name="Healing Beam Range" type="Number" valueSource="lookup" value="Abil,MedicHealingBeam,Range" />
    <variable name="Healing Beam Min Range" type="Number" value="5" />
    <variable name="Healing Beam Move Position" type="Point" />
    <variable name="Healing Beam Target Distance" type="Number" />
    <insertChild id="117F953FC8348AEF" />
    <insertChild id="9FA1C3182096C105" />
    <insertChild id="878519DC4561A8C8" />
    <insertChild id="A443AAF72D23E403" />
  </node>
  <node name="Goto Safe Position" type="HeroMoveToPoint" id="AFE478DBD2D2380B">
    <property name="TargetPosition" valueSource="variable" value="Healing Beam Move Position" />
  </node>
  <node name="Life &gt; EndOffensive" type="LifeFraction" id="117F953FC8348AEF">
    <property name="LifeFraction" valueSource="variable" value="Health_EndOffensive" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="And" id="ECEA5C139764A19C">
    <insertChild id="2FFA3D7D32D4D707" />
    <insertChild id="705EE966C8901C8B" />
  </node>
  <node name="" type="Not" id="705EE966C8901C8B">
    <insertChild id="A018D3490DE88903" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="A018D3490DE88903">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="857D623312135DB7">
    <insertChild id="551FA4A8B44BAB05" />
    <insertChild id="C615225EF72DB568" />
  </node>
  <node name="" type="Not" id="C615225EF72DB568">
    <insertChild id="C0F6BBD04F36EAB5" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="C0F6BBD04F36EAB5">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="3D0D229F9796ADCD">
    <insertChild id="B5B7CC399B89FA32" />
    <insertChild id="F713D4354160F455" />
  </node>
  <node name="" type="Not" id="F713D4354160F455">
    <insertChild id="1C97D37969798FE2" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="1C97D37969798FE2">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="5299D3FB3828A562">
    <insertChild id="B94EF7B086E1DE32" />
    <insertChild id="85C2F0B9104D6CB0" />
  </node>
  <node name="" type="Not" id="85C2F0B9104D6CB0">
    <insertChild id="5EEE743B5DAE5A47" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="5EEE743B5DAE5A47">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="55DF1A20EB20458B">
    <insertChild id="B3C7E4E72F56F7BF" />
    <insertChild id="ACE5492C4A2886A3" />
  </node>
  <node name="" type="Not" id="ACE5492C4A2886A3">
    <insertChild id="B8EE6B5D4F6715CD" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="B8EE6B5D4F6715CD">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="F8AEC28903A84CD0">
    <insertChild id="DA0D8E4842CD1A10" />
    <insertChild id="A31AD10106859A3A" />
  </node>
  <node name="" type="Not" id="A31AD10106859A3A">
    <insertChild id="D14E9DC28F5E446C" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="D14E9DC28F5E446C">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="B19E3ED666C2B69C">
    <insertChild id="F4C9EFF6CB6E0A65" />
    <insertChild id="8C47C78D155DC1FC" />
  </node>
  <node name="" type="Not" id="8C47C78D155DC1FC">
    <insertChild id="152A851DE736035D" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="152A851DE736035D">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="" type="And" id="90D4DBBDD2940DA0">
    <insertChild id="191D1A985C362676" />
    <insertChild id="190B39948B180FE0" />
  </node>
  <node name="" type="Not" id="190B39948B180FE0">
    <insertChild id="98107792B8A0AE36" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="98107792B8A0AE36">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="Find Safe Point near Target" type="FindSafePoint" id="9A7C8D4CA974FD85">
    <property name="FleeDistance" valueSource="variable" value="Healing Beam Range" />
    <property name="FleeCenter" valueSource="variable" value="Healing Beam Target Unit (Global)" />
    <property name="PreferredPoint" valueSource="intrinsic" value="SafePos" />
    <property name="OutputTarget" value="Healing Beam Move Position" />
  </node>
  <node name="Target Close" type="CompareNumber" id="2EBC4B2940A84BE9">
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="LeftHandSide" valueSource="variable" value="Healing Beam Target Distance" />
    <property name="RightHandSide" valueSource="variable" value="Healing Beam Min Range" />
  </node>
  <node name="Calculate Distance" type="UnitDistance" id="878519DC4561A8C8">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Point" valueSource="variable" value="Healing Beam Target Unit (Global)" />
    <property name="OutputDistance" value="Healing Beam Target Distance" />
    <property name="Invert" valueSource="literal" value="true" />
  </node>
  <node name="" type="Or" id="A443AAF72D23E403">
    <insertChild id="11BF3C3F2934A3A4" />
    <insertChild id="57DE6D1737BC616D" />
    <insertChild id="8011822F9A234F44" />
  </node>
  <node name="Too Close" type="And" id="8011822F9A234F44">
    <insertChild id="2EBC4B2940A84BE9" />
    <insertChild id="9A7C8D4CA974FD85" />
    <insertChild id="AFE478DBD2D2380B" />
  </node>
  <node name="Fight" type="And" id="57DE6D1737BC616D">
    <variable name="Enemy Attack Target" type="Unit" />
    <insertChild id="2FA4815563832607" />
    <insertChild id="200C196FABA7DAC1" />
    <insertChild id="14C670440D0077FC" />
    <insertChild id="ECFB99BBF3C7DCF0" />
  </node>
  <node name="FightTarget" type="HeroFight" id="ECFB99BBF3C7DCF0" comment="Fight the target unit, and prefer to get behind them">
    <property name="Target" valueSource="variable" value="Enemy Attack Target" />
    <property name="FightRange" valueSource="variable" value="FightRange" />
    <property name="PreferredPoint" valueSource="intrinsic" value="SafePos" />
  </node>
  <node name="Life &gt; 50%" type="LifeFraction" id="2FA4815563832607">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="&lt; 3 Enemy Heroes Near" type="UnitCount" id="14C670440D0077FC">
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="MinLifeFraction" valueSource="literal" value="0.25" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="Find Enemy Target" type="FindBestTarget" id="200C196FABA7DAC1">
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="SearchCenter" valueSource="variable" value="Healing Beam Target Unit (Global)" />
    <property name="OutputTarget" value="Enemy Attack Target" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Heroic,Summoned,MapCreature,AITargetableStructure" />
  </node>
  <node name="" type="Or" id="6A526EA7B9C9F5FC">
    <insertChild id="BEDB9FB08F40CFC6" />
    <insertChild id="1E8B2D2A0E61BBEA" />
  </node>
  <node name="" type="Not" id="BEDB9FB08F40CFC6">
    <insertChild id="A77F760BA2764635" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="A77F760BA2764635">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="In Danger" type="IsInDanger" id="96EEBEBD0B83A81E" />
  <node name="" type="Not" id="9FA1C3182096C105">
    <insertChild id="96EEBEBD0B83A81E" />
  </node>
  <node name="" type="Not" id="89E53067AB55A9A4">
    <insertChild id="3E269C2F62CB4F45" />
  </node>
  <node name="Casting Healing Beam" type="UnitHasBehavior" id="3E269C2F62CB4F45">
    <property name="Behavior" valueSource="literal" value="MedicCastingHealingBeamBuff" />
    <property name="Unit" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Too Far" type="And" id="11BF3C3F2934A3A4">
    <insertChild id="5789A05F02CFFA0B" />
    <insertChild id="BE675228D3A0E14A" />
    <insertChild id="4415BFD4CF6C9634" />
  </node>
  <node name="Target Far" type="CompareNumber" id="5789A05F02CFFA0B">
    <property name="Comparison" valueSource="literal" value="GT" />
    <property name="LeftHandSide" valueSource="variable" value="Healing Beam Target Distance" />
    <property name="RightHandSide" valueSource="variable" value="Healing Beam Range" />
  </node>
  <node name="Find Safe Point near Target" type="FindSafePoint" id="BE675228D3A0E14A">
    <property name="FleeDistance" valueSource="variable" value="Healing Beam Min Range" />
    <property name="FleeCenter" valueSource="variable" value="Healing Beam Target Unit (Global)" />
    <property name="PreferredPoint" valueSource="intrinsic" value="SafePos" />
    <property name="OutputTarget" value="Healing Beam Move Position" />
  </node>
  <node name="Goto Safe Position" type="HeroMoveToPoint" id="4415BFD4CF6C9634">
    <property name="TargetPosition" valueSource="variable" value="Healing Beam Move Position" />
  </node>
  <node name="Find Random Point near Target Point" type="RandomPointInCircle" id="9B711279A33E5B53">
    <property name="RequirePathable" valueSource="literal" value="true" />
    <property name="CenterPoint" valueSource="variable" value="Medivac Target Point" />
    <property name="Radius" valueSource="literal" value="3" />
    <property name="OutputPoint" value="Medivac Target Point" />
  </node>
  <node name="Point Towards Spawn" type="FindPointOnLine" id="6C55E58172F0CA1C">
    <property name="SourcePoint" valueSource="variable" value="TargetPosition" />
    <property name="DestinationPoint" valueSource="intrinsic" value="SafePos" />
    <property name="DistanceOffset" valueSource="variable" value="MinStagingRange" />
    <property name="OutputTarget" value="Medivac Target Point" />
  </node>
  <node name="Team Fighting" type="IsInTeamfight" id="A097B8D172A017C3">
    <property name="TargetUnit" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="Not" id="E6F0699D6F73E9B8" comment="This is to stop Medic from randomly medivac'ing out of a fight.">
    <insertChild id="A097B8D172A017C3" />
  </node>
  <node name="Not Self" type="Distance" id="1E8B2D2A0E61BBEA">
    <property name="SourceUnit" valueSource="intrinsic" value="Self" />
    <property name="TargetUnit" valueSource="variable" value="Safeguard Target" />
    <property name="Comparison" valueSource="literal" value="GT" />
    <property name="Distance" valueSource="literal" value="0.1" />
  </node>
  <node name="Is casting Healing Beam" type="UnitHasBehavior" id="206CCD2F38BC11D8">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="MedicCastingHealingBeamBuff" />
  </node>
</tree>